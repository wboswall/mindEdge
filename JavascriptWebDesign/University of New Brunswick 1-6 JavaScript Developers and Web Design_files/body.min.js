function fluidtextresizer(t){fluidtextresizer.count=fluidtextresizer.count?++fluidtextresizer.count:1,this.cookiename="fluidtextsizer"+fluidtextresizer.count,this.setting=t,this.selectors=[],this.$controls=null,this.defaultfontsizes=[],this.curfontlevel=0;var e=this;jQuery(function(i){for(var o=t.targets,s=0;s<o.length;s++)if(0!=i(o[s]).length){var n=i(o[s]).css("fontSize");e.defaultfontsizes.push({val:parseFloat(n),unit:n.slice(-2)}),e.selectors.push(i(o[s]))}else o.splice(s,1),s-=1;if(t.controlsdiv&&(e.$controls=i("#"+t.controlsdiv).find("a[href^='#fontsize'], a[href='#bigger'], a[href='#smaller']"),e.$controls.each(function(t){var o=i(this);o.data("level",o.attr("href").replace(/(#)|(fontsize)/gi,"")),o.click(function(){return e.setFontLevel(o.data("level")),!1})})),"none"!=t.persisttype){var a=fluidtextresizer.routines.getCookie(e.cookiename)||0;(a=parseInt(a))>=-t.levels&&a<=t.levels&&e.setFontLevel(a,!0)}})}!function(t){function e(t,e){if(!(!i&&t.originalEvent.touches.length>1||i&&!t.isPrimary)){t.preventDefault();var o=i?t.originalEvent:t.originalEvent.changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent(e,!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(s)}}var i=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;if(t.support.touch="ontouchend"in document||i,t.support.touch){var o,s=t.ui.mouse.prototype,n=s._mouseInit,a=s._mouseDestroy;s._touchStart=function(t){o||!i&&!this._mouseCapture(t.originalEvent.changedTouches[0])||(o=!0,this._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},s._touchMove=function(t){o&&(this._touchMoved=!0,e(t,"mousemove"))},s._touchEnd=function(t){o&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),o=!1)},s._mouseInit=function(){var e=this;e.element.bind(i?{pointerDown:t.proxy(e,"_touchStart"),pointerMove:t.proxy(e,"_touchMove"),pointerUp:t.proxy(e,"_touchEnd"),MSPointerDown:t.proxy(e,"_touchStart"),MSPointerMove:t.proxy(e,"_touchMove"),MSPointerUp:t.proxy(e,"_touchEnd")}:{touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),n.call(e)},s._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),a.call(e)}}}(jQuery),function(t,e,i){function o(i,o,s){var n=e.createElement(i);return o&&(n.id=G+o),s&&(n.style.cssText=s),t(n)}function s(){return i.innerHeight?i.innerHeight:t(i).height()}function n(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var o;return void 0===this.cache[e]&&(void 0!==(o=t(this.el).attr("data-cbox-"+e))?this.cache[e]=o:void 0!==i[e]?this.cache[e]=i[e]:void 0!==J[e]&&(this.cache[e]=J[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function a(t){var e=M.length,i=(R+t)%e;return 0>i?e+i:i}function r(t,e){return Math.round((/%/.test(t)?("x"===e?T.width():s())/100:1)*parseInt(t,10))}function l(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function c(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function d(t){"contains"in b[0]&&!b[0].contains(t.target)&&t.target!==v[0]&&(t.stopPropagation(),b.focus())}function u(t){u.str!==t&&(b.add(v).removeClass(u.str).addClass(t),u.str=t)}function h(i){t(e).trigger(i),at.triggerHandler(i)}function p(i){var s;if(!V){if(s=t(i).data(Q),function(e){R=0,e&&!1!==e&&"nofollow"!==e?(M=t("."+Z).filter(function(){return new n(this,t.data(this,Q)).get("rel")===e}),-1===(R=M.index(q.el))&&(M=M.add(q.el),R=M.length-1)):M=t(q.el)}((q=new n(i,s)).get("rel")),!j){j=U=!0,u(q.get("className")),b.css({visibility:"hidden",display:"block",opacity:""}),k=o(rt,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),x.css({width:"",height:""}).append(k),W=y.height()+C.height()+x.outerHeight(!0)-x.height(),P=S.width()+$.width()+x.outerWidth(!0)-x.width(),N=k.outerHeight(!0),L=k.outerWidth(!0);var a=r(q.get("initialWidth"),"x"),l=r(q.get("initialHeight"),"y"),c=q.get("maxWidth"),p=q.get("maxHeight");q.w=Math.max((!1!==c?Math.min(a,r(c,"x")):a)-L-P,0),q.h=Math.max((!1!==p?Math.min(l,r(p,"y")):l)-N-W,0),k.css({width:"",height:q.h}),K.position(),h(tt),q.get("onOpen"),D.add(E).hide(),b.focus(),q.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",d,!0),at.one(st,function(){e.removeEventListener("focus",d,!0)})),q.get("returnFocus")&&at.one(st,function(){setTimeout(function(){t(q.el).focus()},13e3)})}var m=parseFloat(q.get("opacity"));v.css({opacity:m==m?m:"",cursor:q.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),q.get("closeButton")?F.html(q.get("close")).appendTo(x):F.appendTo("<div/>"),g()}}function m(){b||(X=!1,T=t(i),b=o(rt).attr({id:Q,class:!1===t.support.opacity?G+"IE":"",role:"dialog",tabindex:"-1"}).hide(),v=o(rt,"Overlay").hide(),I=t([o(rt,"LoadingOverlay")[0],o(rt,"LoadingGraphic")[0]]),w=o(rt,"Wrapper"),x=o(rt,"Content").append(E=o(rt,"Title"),B=o(rt,"Current"),A=t('<button type="button"/>').attr({id:G+"Previous","aria-label":G+"Previous"}),H=t('<button type="button"/>').attr({id:G+"Next","aria-label":G+"Next"}),O=t('<button type="button"/>').attr({id:G+"Slideshow","aria-label":G+"Slideshow"}),I),F=t('<button type="button"/>').attr({id:G+"Close","aria-label":"Close Dialog"}),w.append(o(rt).append(o(rt,"TopLeft"),y=o(rt,"TopCenter"),o(rt,"TopRight")),o(rt,!1,"clear:left").append(S=o(rt,"MiddleLeft"),x,$=o(rt,"MiddleRight")),o(rt,!1,"clear:left").append(o(rt,"BottomLeft"),C=o(rt,"BottomCenter"),o(rt,"BottomRight"))).find("div div").css({float:"left"}),_=o(rt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),D=H.add(A).add(B).add(O)),e.body&&!b.parent().length&&t(e.body).append(v,b.append(w,_))}function f(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),p(this))}return!!b&&(X||(X=!0,H.click(function(){K.next()}),A.click(function(){K.prev()}),F.click(function(){K.close()}),v.click(function(){q.get("overlayClose")&&K.close()}),t(e).bind("keydown."+G,function(t){var e=t.keyCode;j&&q.get("escKey")&&27===e&&(t.preventDefault(),K.close()),j&&q.get("arrowKey")&&M[1]&&!t.altKey&&(37===e?(t.preventDefault(),A.click()):39===e&&(t.preventDefault(),H.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+G,"."+Z,i):t("."+Z).live("click."+G,i)),!0)}function g(){var e,s,n,a=K.prep,d=++lt;if(U=!0,z=!1,h(nt),h(et),q.get("onLoad"),q.h=q.get("height")?r(q.get("height"),"y")-N-W:q.get("innerHeight")&&r(q.get("innerHeight"),"y"),q.w=q.get("width")?r(q.get("width"),"x")-L-P:q.get("innerWidth")&&r(q.get("innerWidth"),"x"),q.mw=q.w,q.mh=q.h,q.get("maxWidth")&&(q.mw=r(q.get("maxWidth"),"x")-L-P,q.mw=q.w&&q.w<q.mw?q.w:q.mw),q.get("maxHeight")&&(q.mh=r(q.get("maxHeight"),"y")-N-W,q.mh=q.h&&q.h<q.mh?q.h:q.mh),e=q.get("href"),Y=setTimeout(function(){I.show()},100),q.get("inline")){var u=t(e).eq(0);n=t("<div>").hide().insertBefore(u),at.one(nt,function(){n.replaceWith(u)}),a(u)}else q.get("iframe")?a(" "):q.get("html")?a(q.get("html")):l(q,e)?(e=c(q,e),z=q.get("createImg"),t(z).addClass(G+"Photo").bind("error."+G,function(){a(o(rt,"Error").html(q.get("imgError")))}).one("load",function(){d===lt&&setTimeout(function(){var e;q.get("retinaImage")&&i.devicePixelRatio>1&&(z.height=z.height/i.devicePixelRatio,z.width=z.width/i.devicePixelRatio),q.get("scalePhotos")&&(s=function(){z.height-=z.height*e,z.width-=z.width*e},q.mw&&z.width>q.mw&&(e=(z.width-q.mw)/z.width,s()),q.mh&&z.height>q.mh&&(e=(z.height-q.mh)/z.height,s())),q.h&&(z.style.marginTop=Math.max(q.mh-z.height,0)/2+"px"),M[1]&&(q.get("loop")||M[R+1])&&(z.style.cursor="pointer",t(z).bind("click."+G,function(){K.next()})),z.style.width=z.width+"px",z.style.height=z.height+"px",a(z)},1)}),z.src=e):e&&_.load(e,q.get("data"),function(e,i){d===lt&&a("error"===i?o(rt,"Error").html(q.get("xhrError")):t(this).contents())})}var v,b,w,x,y,S,$,C,M,T,k,_,I,E,B,O,H,A,F,D,q,W,P,N,L,R,z,j,U,V,Y,K,X,J={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title},createImg:function(){var e=new Image,i=t(this).data("cbox-img-attrs");return"object"==typeof i&&t.each(i,function(t,i){e[t]=i}),e},createIframe:function(){var i=e.createElement("iframe"),o=t(this).data("cbox-iframe-attrs");return"object"==typeof o&&t.each(o,function(t,e){i[t]=e}),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),i.name=(new Date).getTime(),i.allowFullscreen=!0,i}},Q="colorbox",G="cbox",Z=G+"Element",tt=G+"_open",et=G+"_load",it=G+"_complete",ot=G+"_cleanup",st=G+"_closed",nt=G+"_purge",at=t("<a/>"),rt="div",lt=0,ct={},dt=function(){function t(){clearTimeout(a)}function e(){(q.get("loop")||M[R+1])&&(t(),a=setTimeout(K.next,q.get("slideshowSpeed")))}function i(){O.html(q.get("slideshowStop")).unbind(l).one(l,o),at.bind(it,e).bind(et,t),b.removeClass(r+"off").addClass(r+"on")}function o(){t(),at.unbind(it,e).unbind(et,t),O.html(q.get("slideshowStart")).unbind(l).one(l,function(){K.next(),i()}),b.removeClass(r+"on").addClass(r+"off")}function s(){n=!1,O.hide(),t(),at.unbind(it,e).unbind(et,t),b.removeClass(r+"off "+r+"on")}var n,a,r=G+"Slideshow_",l="click."+G;return function(){n?q.get("slideshow")||(at.unbind(ot,s),s()):q.get("slideshow")&&M[1]&&(n=!0,at.one(ot,s),q.get("slideshowAuto")?i():o(),O.show())}}();t[Q]||(t(m),(K=t.fn[Q]=t[Q]=function(e,i){var o=this;return e=e||{},t.isFunction(o)&&(o=t("<a/>"),e.open=!0),o[0]?(m(),f()&&(i&&(e.onComplete=i),o.each(function(){var i=t.data(this,Q)||{};t.data(this,Q,t.extend(i,e))}).addClass(Z),new n(o[0],e).get("open")&&p(o[0])),o):o}).position=function(e,i){function o(){y[0].style.width=C[0].style.width=x[0].style.width=parseInt(b[0].style.width,10)-P+"px",x[0].style.height=S[0].style.height=$[0].style.height=parseInt(b[0].style.height,10)-W+"px"}var n,a,l,c=0,d=0,u=b.offset();if(T.unbind("resize."+G),b.css({top:-9e4,left:-9e4}),a=T.scrollTop(),l=T.scrollLeft(),q.get("fixed")?(u.top-=a,u.left-=l,b.css({position:"fixed"})):(c=a,d=l,b.css({position:"absolute"})),d+=!1!==q.get("right")?Math.max(T.width()-q.w-L-P-r(q.get("right"),"x"),0):!1!==q.get("left")?r(q.get("left"),"x"):Math.round(Math.max(T.width()-q.w-L-P,0)/2),c+=!1!==q.get("bottom")?Math.max(s()-q.h-N-W-r(q.get("bottom"),"y"),0):!1!==q.get("top")?r(q.get("top"),"y"):Math.round(Math.max(s()-q.h-N-W,0)/2),b.css({top:u.top,left:u.left,visibility:"visible"}),w[0].style.width=w[0].style.height="9999px",n={width:q.w+L+P,height:q.h+N+W,top:c,left:d},e){var h=0;t.each(n,function(t){return n[t]!==ct[t]?void(h=e):void 0}),e=h}ct=n,e||b.css(n),b.dequeue().animate(n,{duration:e||0,complete:function(){o(),U=!1,w[0].style.width=q.w+L+P+"px",w[0].style.height=q.h+N+W+"px",q.get("reposition")&&setTimeout(function(){T.bind("resize."+G,K.position)},1),t.isFunction(i)&&i()},step:o})},K.resize=function(t){var e;j&&((t=t||{}).width&&(q.w=r(t.width,"x")-L-P),t.innerWidth&&(q.w=r(t.innerWidth,"x")),k.css({width:q.w}),t.height&&(q.h=r(t.height,"y")-N-W),t.innerHeight&&(q.h=r(t.innerHeight,"y")),t.innerHeight||t.height||(e=k.scrollTop(),k.css({height:"auto"}),q.h=k.height()),k.css({height:q.h}),e&&k.scrollTop(e),K.position("none"===q.get("transition")?0:q.get("speed")))},K.prep=function(i){if(j){var s,r="none"===q.get("transition")?0:q.get("speed");k.remove(),(k=o(rt,"LoadedContent").append(i)).hide().appendTo(_.show()).css({width:(q.w=q.w||k.width(),q.w=q.mw&&q.mw<q.w?q.mw:q.w,q.w),overflow:q.get("scrolling")?"auto":"hidden"}).css({height:(q.h=q.h||k.height(),q.h=q.mh&&q.mh<q.h?q.mh:q.h,q.h)}).prependTo(x),_.hide(),t(z).css({float:"none"}),u(q.get("className")),s=function(){function i(){!1===t.support.opacity&&b[0].style.removeAttribute("filter")}var o,s,d=M.length;j&&(s=function(){clearTimeout(Y),I.hide(),h(it),q.get("onComplete")},E.html(q.get("title")).show(),k.show(),d>1?("string"==typeof q.get("current")&&B.html(q.get("current").replace("{current}",R+1).replace("{total}",d)).show(),H[q.get("loop")||d-1>R?"show":"hide"]().html(q.get("next")),A[q.get("loop")||R?"show":"hide"]().html(q.get("previous")),dt(),q.get("preloading")&&t.each([a(-1),a(1)],function(){var i=M[this],o=new n(i,t.data(i,Q)),s=o.get("href");s&&l(o,s)&&(s=c(o,s),e.createElement("img").src=s)})):D.hide(),q.get("iframe")?(o=q.get("createIframe"),q.get("scrolling")||(o.scrolling="no"),t(o).attr({src:q.get("href"),class:G+"Iframe"}).one("load",s).appendTo(k),at.one(nt,function(){o.src="//about:blank"}),q.get("fastIframe")&&t(o).trigger("load")):s(),"fade"===q.get("transition")?b.fadeTo(r,1,i):i())},"fade"===q.get("transition")?b.fadeTo(r,0,function(){K.position(0,s)}):K.position(r,s)}},K.next=function(){!U&&M[1]&&(q.get("loop")||M[R+1])&&(R=a(1),p(M[R]))},K.prev=function(){!U&&M[1]&&(q.get("loop")||R)&&(R=a(-1),p(M[R]))},K.close=function(){j&&!V&&(V=!0,j=!1,h(ot),q.get("onCleanup"),T.unbind("."+G),v.fadeTo(q.get("fadeOut")||0,0),b.stop().fadeTo(q.get("fadeOut")||0,0,function(){b.hide(),v.hide(),h(nt),k.remove(),setTimeout(function(){V=!1,h(st),q.get("onClosed")},1)}))},K.remove=function(){b&&(b.stop(),t[Q].close(),b.stop(!1,!0).remove(),v.remove(),V=!1,b=null,t("."+Z).removeData(Q).removeClass(Z),t(e).unbind("click."+G).unbind("keydown."+G))},K.element=function(){return t(q.el)},K.settings=J)}(jQuery,document,window),fluidtextresizer.prototype={setFontLevel:function(t,e){var i=this.setting,o=this.selectors;t="bigger"==t?this.curfontlevel+1:"smaller"==t?this.curfontlevel-1:parseInt(t);if(i.controlsdiv&&this.$controls.filter(".selectedcontrol").removeClass("selectedcontrol").end().filter('[href="#fontsize'+t+'"]').addClass("selectedcontrol"),!(t<-i.levels||t>i.levels||t==this.curfontlevel)){for(var s=0;s<o.length;s++){var n=Math.abs(t),a=Math.pow(1.2,n),r=this.defaultfontsizes[s].val*(t<0?1/a:t>0?a:1)+this.defaultfontsizes[s].unit;o[s].animate({fontSize:r},e?0:this.setting.animate)}"session"==i.persist&&fluidtextresizer.routines.setCookie(this.cookiename,t),this.curfontlevel=t}}},fluidtextresizer.routines={getCookie:function(t){var e=new RegExp(t+"=[^;]*","i");return document.cookie.match(e)?document.cookie.match(e)[0].split("=")[1]:null},setCookie:function(t,e,i){var o="";void 0!==i&&(o="; expires="+expireDate.setDate((new Date).getDate()+i).toGMTString()),document.cookie=t+"="+e+"; path=/"+o+";SameSite=None; Secure"}},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=/\+/g;function i(t){return s.raw?t:encodeURIComponent(t)}function o(i,o){var n=s.raw?i:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(e," ")),s.json?JSON.parse(t):t}catch(t){}}(i);return t.isFunction(o)?o(n):n}var s=t.cookie=function(e,n,a){if(arguments.length>1&&!t.isFunction(n)){if("number"==typeof(a=t.extend({},s.defaults,a)).expires){var r=a.expires,l=a.expires=new Date;l.setMilliseconds(l.getMilliseconds()+864e5*r)}return document.cookie=[i(e),"=",function(t){return i(s.json?JSON.stringify(t):String(t))}(n),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; SameSite=None; Secure":""].join("")}for(var c,d=e?void 0:{},u=document.cookie?document.cookie.split("; "):[],h=0,p=u.length;h<p;h++){var m=u[h].split("="),f=(c=m.shift(),s.raw?c:decodeURIComponent(c)),g=m.join("=");if(e===f){d=o(g,n);break}e||void 0===(g=o(g))||(d[f]=g)}return d};s.defaults={},t.removeCookie=function(e,i){return t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e)}}),function(t){"use strict";!function(t,e,i,o){t.widget("selectBox.selectBoxIt",{VERSION:"3.8.0",options:{showEffect:"none",showEffectOptions:{},showEffectSpeed:"medium",hideEffect:"none",hideEffectOptions:{},hideEffectSpeed:"medium",showFirstOption:!0,defaultText:"",defaultIcon:"",downArrowIcon:"",theme:"default",keydownOpen:!0,isMobile:function(){var t=navigator.userAgent||navigator.vendor||e.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(t)},native:!1,aggressiveChange:!1,selectWhenHidden:!0,viewport:t(e),similarSearch:!1,copyAttributes:["title","rel"],copyClasses:"button",nativeMousedown:!1,customShowHideEvent:!1,autoWidth:!0,html:!0,populate:"",dynamicPositioning:!0,hideCurrent:!1},getThemes:function(){var e=t(this.element).attr("data-theme")||"c";return{bootstrap:{focus:"active",hover:"",enabled:"enabled",disabled:"disabled",arrow:"caret",button:"btn",list:"dropdown-menu",container:"bootstrap",open:"open"},jqueryui:{focus:"ui-state-focus",hover:"ui-state-hover",enabled:"ui-state-enabled",disabled:"ui-state-disabled",arrow:"ui-icon ui-icon-triangle-1-s",button:"ui-widget ui-state-default",list:"ui-widget ui-widget-content",container:"jqueryui",open:"selectboxit-open"},jquerymobile:{focus:"ui-btn-down-"+e,hover:"ui-btn-hover-"+e,enabled:"ui-enabled",disabled:"ui-disabled",arrow:"ui-icon ui-icon-arrow-d ui-icon-shadow",button:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+e,list:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+e,container:"jquerymobile",open:"selectboxit-open"},default:{focus:"selectboxit-focus",hover:"selectboxit-hover",enabled:"selectboxit-enabled",disabled:"selectboxit-disabled",arrow:"selectboxit-default-arrow",button:"selectboxit-btn",list:"selectboxit-list",container:"selectboxit-container",open:"selectboxit-open"}}},isDeferred:function(e){return t.isPlainObject(e)&&e.promise&&e.done},_create:function(e){var o=this,s=o.options.populate,n=o.options.theme;if(o.element.is("select"))return o.widgetProto=t.Widget.prototype,o.originalElem=o.element[0],o.selectBox=o.element,o.options.populate&&o.add&&!e&&o.add(s),o.selectItems=o.element.find("option"),o.firstSelectItem=o.selectItems.slice(0,1),o.documentHeight=t(i).height(),o.theme=t.isPlainObject(n)?t.extend({},o.getThemes().default,n):o.getThemes()[n]?o.getThemes()[n]:o.getThemes().default,o.currentFocus=0,o.blur=!0,o.textArray=[],o.currentIndex=0,o.currentText="",o.flipped=!1,e||(o.selectBoxStyles=o.selectBox.attr("style")),o._createDropdownButton()._createUnorderedList()._copyAttributes()._replaceSelectBox()._addClasses(o.theme)._eventHandlers(),o.originalElem.disabled&&o.disable&&o.disable(),o._ariaAccessibility&&o._ariaAccessibility(),o.isMobile=o.options.isMobile(),o._mobile&&o._mobile(),o.options.native&&this._applyNativeSelect(),o.triggerEvent("create"),o},_createDropdownButton:function(){var e=this,i=e.originalElemId=e.originalElem.id||"",o=e.originalElemValue=e.originalElem.value||"",s=e.originalElemName=e.originalElem.name||"",n=e.options.copyClasses,a=e.selectBox.attr("class")||"";return e.dropdownText=t("<span/>",{id:i&&i+"SelectBoxItText",class:"selectboxit-text",unselectable:"on",text:e.firstSelectItem.text()}).attr("data-val",o),e.dropdownImageContainer=t("<span/>",{class:"selectboxit-option-icon-container"}),e.dropdownImage=t("<i/>",{id:i&&i+"SelectBoxItDefaultIcon",class:"selectboxit-default-icon",unselectable:"on"}),e.dropdown=t("<span/>",{id:i&&i+"SelectBoxIt",class:"selectboxit "+("button"===n?a:"")+" "+(e.selectBox.prop("disabled")?e.theme.disabled:e.theme.enabled),name:s,tabindex:e.selectBox.attr("tabindex")||"0",unselectable:"on"}).append(e.dropdownImageContainer.append(e.dropdownImage)).append(e.dropdownText),e.dropdownContainer=t("<span/>",{id:i&&i+"SelectBoxItContainer",class:e.theme.container+" "+("container"===n?a:"")}).append(e.dropdown),e},_createUnorderedList:function(){var e,i,o,s,n,a,r,l,c,d,u,h,p,m=this,f="",g=m.originalElemId||"",v=t("<ul/>",{id:g&&g+"SelectBoxItOptions",class:"selectboxit-options",tabindex:-1});if(m.options.showFirstOption||(m.selectItems.first().attr("disabled","disabled"),m.selectItems=m.selectBox.find("option").slice(1)),m.selectItems.each(function(g){h=t(this),i="",o="",e=h.prop("disabled"),s=h.attr("data-icon")||"",n=h.attr("data-iconurl")||"",a=n?"selectboxit-option-icon-url":"",r=n?"style=\"background-image:url('"+n+"');\"":"",l=h.attr("data-selectedtext"),c=h.attr("data-text"),u=c||h.text(),(p=h.parent()).is("optgroup")&&(i="selectboxit-optgroup-option",0===h.index()&&(o='<span class="selectboxit-optgroup-header '+p.first().attr("class")+'"data-disabled="true">'+p.first().attr("label")+"</span>")),f+=o+'<li data-id="'+g+'" data-val="'+this.value+'" data-disabled="'+e+'" class="'+i+" selectboxit-option "+(t(this).attr("class")||"")+'"><a class="selectboxit-option-anchor"><span class="selectboxit-option-icon-container"><i class="selectboxit-option-icon '+s+" "+(a||m.theme.container)+'"'+r+"></i></span>"+(m.options.html?u:m.htmlEscape(u))+"</a></li>",d=h.attr("data-search"),m.textArray[g]=e?"":d||u,this.selected&&(m._setText(m.dropdownText,l||u),m.currentFocus=g)}),m.options.defaultText||m.selectBox.attr("data-text")){var b=m.options.defaultText||m.selectBox.attr("data-text");m._setText(m.dropdownText,b),m.options.defaultText=b}return v.append(f),m.list=v,m.dropdownContainer.append(m.list),m.listItems=m.list.children("li"),m.listAnchors=m.list.find("a"),m.listItems.first().addClass("selectboxit-option-first"),m.listItems.last().addClass("selectboxit-option-last"),m.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(m.theme.disabled),m.dropdownImage.addClass(m.selectBox.attr("data-icon")||m.options.defaultIcon||m.listItems.eq(m.currentFocus).find("i").attr("class")),m.dropdownImage.attr("style",m.listItems.eq(m.currentFocus).find("i").attr("style")),m},_replaceSelectBox:function(){var e,i,s=this,n=s.originalElem.id||"",a=s.selectBox.attr("data-size"),r=s.listSize=a===o?"auto":"0"===a?"auto":+a;return s.selectBox.css("display","none").after(s.dropdownContainer),s.dropdownContainer.appendTo("body").addClass("selectboxit-rendering"),s.dropdown.height(),s.downArrow=t("<i/>",{id:n&&n+"SelectBoxItArrow",class:"selectboxit-arrow",unselectable:"on"}),s.downArrowContainer=t("<span/>",{id:n&&n+"SelectBoxItArrowContainer",class:"selectboxit-arrow-container",unselectable:"on"}).append(s.downArrow),s.dropdown.append(s.downArrowContainer),s.listItems.removeClass("selectboxit-selected").eq(s.currentFocus).addClass("selectboxit-selected"),e=s.downArrowContainer.outerWidth(!0),i=s.dropdownImage.outerWidth(!0),s.options.autoWidth&&(s.dropdown.css({width:"auto"}).css({width:s.list.outerWidth(!0)+e+i}),s.list.css({"min-width":s.dropdown.width()})),s.dropdownText.css({"max-width":s.dropdownContainer.outerWidth(!0)-(e+i)}),s.selectBox.after(s.dropdownContainer),s.dropdownContainer.removeClass("selectboxit-rendering"),"number"===t.type(r)&&(s.maxHeight=s.listAnchors.outerHeight(!0)*r),s},_scrollToView:function(t){var e=this,i=e.listItems.eq(e.currentFocus),o=e.list.scrollTop(),s=i.height(),n=i.position().top,a=Math.abs(n),r=e.list.height();return"search"===t?s>r-n?e.list.scrollTop(o+(n-(r-s))):-1>n&&e.list.scrollTop(n-s):"up"===t?-1>n&&e.list.scrollTop(o-a):"down"===t&&s>r-n&&e.list.scrollTop(o+(a-r+s)),e},_callbackSupport:function(e){var i=this;return t.isFunction(e)&&e.call(i,i.dropdown),i},_setText:function(t,e){return this.options.html?t.html(e):t.text(e),this},open:function(t){var e=this,i=e.options.showEffect,o=e.options.showEffectSpeed,s=e.options.showEffectOptions,n=e.options.native,a=e.isMobile;return!e.listItems.length||e.dropdown.hasClass(e.theme.disabled)?e:(n||a||this.list.is(":visible")||(e.triggerEvent("open"),e._dynamicPositioning&&e.options.dynamicPositioning&&e._dynamicPositioning(),"none"===i?e.list.show():"show"===i||"slideDown"===i||"fadeIn"===i?e.list[i](o):e.list.show(i,s,o),e.list.promise().done(function(){e._scrollToView("search")})),e._callbackSupport(t),e)},close:function(t){var e=this,i=e.options.hideEffect,o=e.options.hideEffectSpeed,s=e.options.hideEffectOptions,n=e.options.native,a=e.isMobile;return n||a||!e.list.is(":visible")||(e.triggerEvent("close"),"none"===i?e.list.hide():"hide"===i||"slideUp"===i||"fadeOut"===i?e.list[i](o):e.list.hide(i,s,o)),e._callbackSupport(t),e},toggle:function(){var t=this,e=t.list.is(":visible");e?t.close():e||t.open()},_keyMappings:{38:"up",40:"down",13:"enter",8:"backspace",9:"tab",32:"space",27:"esc"},_keydownMethods:function(){var t=this,e=t.list.is(":visible")||!t.options.keydownOpen;return{down:function(){t.moveDown&&e&&t.moveDown()},up:function(){t.moveUp&&e&&t.moveUp()},enter:function(){var e=t.listItems.eq(t.currentFocus);t._update(e),"true"!==e.attr("data-preventclose")&&t.close(),t.triggerEvent("enter")},tab:function(){t.triggerEvent("tab-blur"),t.close()},backspace:function(){t.triggerEvent("backspace")},esc:function(){t.close()}}},_eventHandlers:function(){var e,i,o=this,s=o.options.nativeMousedown,n=o.options.customShowHideEvent,a=o.focusClass,r=o.hoverClass,l=o.openClass;return this.dropdown.on({"click.selectBoxIt":function(){o.dropdown.trigger("focus",!0),o.originalElem.disabled||(o.triggerEvent("click"),s||n||o.toggle())},"mousedown.selectBoxIt":function(){t(this).data("mdown",!0),o.triggerEvent("mousedown"),s&&!n&&o.toggle()},"mouseup.selectBoxIt":function(){o.triggerEvent("mouseup")},"blur.selectBoxIt":function(){o.blur&&(o.triggerEvent("blur"),o.close(),t(this).removeClass(a))},"focus.selectBoxIt":function(e,i){var s=t(this).data("mdown");t(this).removeData("mdown"),s||i||setTimeout(function(){o.triggerEvent("tab-focus")},0),i||(t(this).hasClass(o.theme.disabled)||t(this).addClass(a),o.triggerEvent("focus"))},"keydown.selectBoxIt":function(t){var e=o._keyMappings[t.keyCode],i=o._keydownMethods()[e];i&&(i(),!o.options.keydownOpen||"up"!==e&&"down"!==e||o.open()),i&&"tab"!==e&&t.preventDefault()},"keypress.selectBoxIt":function(t){var e=t.charCode||t.keyCode,i=o._keyMappings[t.charCode||t.keyCode],s=String.fromCharCode(e);o.search&&(!i||i&&"space"===i)&&o.search(s,!0,!0),"space"===i&&t.preventDefault()},"mouseenter.selectBoxIt":function(){o.triggerEvent("mouseenter")},"mouseleave.selectBoxIt":function(){o.triggerEvent("mouseleave")}}),o.list.on({"mouseover.selectBoxIt":function(){o.blur=!1},"mouseout.selectBoxIt":function(){o.blur=!0},"focusin.selectBoxIt":function(){o.dropdown.trigger("focus",!0)}}),o.list.on({"mousedown.selectBoxIt":function(){o._update(t(this)),o.triggerEvent("option-click"),"false"===t(this).attr("data-disabled")&&"true"!==t(this).attr("data-preventclose")&&o.close(),setTimeout(function(){o.dropdown.trigger("focus",!0)},0)},"focusin.selectBoxIt":function(){o.listItems.not(t(this)).removeAttr("data-active"),t(this).attr("data-active","");var e=o.list.is(":hidden");(o.options.searchWhenHidden&&e||o.options.aggressiveChange||e&&o.options.selectWhenHidden)&&o._update(t(this)),t(this).addClass(a)},"mouseup.selectBoxIt":function(){s&&!n&&(o._update(t(this)),o.triggerEvent("option-mouseup"),"false"===t(this).attr("data-disabled")&&"true"!==t(this).attr("data-preventclose")&&o.close())},"mouseenter.selectBoxIt":function(){"false"===t(this).attr("data-disabled")&&(o.listItems.removeAttr("data-active"),t(this).addClass(a).attr("data-active",""),o.listItems.not(t(this)).removeClass(a),t(this).addClass(a),o.currentFocus=+t(this).attr("data-id"))},"mouseleave.selectBoxIt":function(){"false"===t(this).attr("data-disabled")&&(o.listItems.not(t(this)).removeClass(a).removeAttr("data-active"),t(this).addClass(a),o.currentFocus=+t(this).attr("data-id"))},"blur.selectBoxIt":function(){t(this).removeClass(a)}},".selectboxit-option"),o.list.on({"click.selectBoxIt":function(t){t.preventDefault()}},"a"),o.selectBox.on({"change.selectBoxIt, internal-change.selectBoxIt":function(t,s){var n,a;s||(n=o.list.find('li[data-val="'+o.originalElem.value+'"]')).length&&(o.listItems.eq(o.currentFocus).removeClass(o.focusClass),o.currentFocus=+n.attr("data-id")),n=o.listItems.eq(o.currentFocus),a=n.attr("data-selectedtext"),e=n.attr("data-text"),i=e||n.find("a").text(),o._setText(o.dropdownText,a||i),o.dropdownText.attr("data-val",o.originalElem.value),n.find("i").attr("class")&&(o.dropdownImage.attr("class",n.find("i").attr("class")).addClass("selectboxit-default-icon"),o.dropdownImage.attr("style",n.find("i").attr("style"))),o.triggerEvent("changed")},"disable.selectBoxIt":function(){o.dropdown.addClass(o.theme.disabled)},"enable.selectBoxIt":function(){o.dropdown.removeClass(o.theme.disabled)},"open.selectBoxIt":function(){var t,e=o.list.find("li[data-val='"+o.dropdownText.attr("data-val")+"']");e.length||(e=o.listItems.not("[data-disabled=true]").first()),o.currentFocus=+e.attr("data-id"),t=o.listItems.eq(o.currentFocus),o.dropdown.addClass(l).removeClass(r).addClass(a),o.listItems.removeClass(o.selectedClass).removeAttr("data-active").not(t).removeClass(a),t.addClass(o.selectedClass).addClass(a),o.options.hideCurrent&&(o.listItems.show(),t.hide())},"close.selectBoxIt":function(){o.dropdown.removeClass(l)},"blur.selectBoxIt":function(){o.dropdown.removeClass(a)},"mouseenter.selectBoxIt":function(){t(this).hasClass(o.theme.disabled)||o.dropdown.addClass(r)},"mouseleave.selectBoxIt":function(){o.dropdown.removeClass(r)},destroy:function(t){t.preventDefault(),t.stopPropagation()}}),o},_update:function(t){var e,i=this,o=i.options.defaultText||i.selectBox.attr("data-text"),s=i.listItems.eq(i.currentFocus);"false"===t.attr("data-disabled")&&(i.listItems.eq(i.currentFocus).attr("data-selectedtext"),e=s.attr("data-text"),e||s.text(),(o&&i.options.html?i.dropdownText.html()===o:i.dropdownText.text()===o)&&i.selectBox.val()===t.attr("data-val")?i.triggerEvent("change"):(i.selectBox.val(t.attr("data-val")),i.currentFocus=+t.attr("data-id"),i.originalElem.value!==i.dropdownText.attr("data-val")&&i.triggerEvent("change")))},_addClasses:function(t){var e=this,i=(e.focusClass=t.focus,e.hoverClass=t.hover,t.button),o=t.list,s=t.arrow,n=t.container;return e.openClass=t.open,e.selectedClass="selectboxit-selected",e.downArrow.addClass(e.selectBox.attr("data-downarrow")||e.options.downArrowIcon||s),e.dropdownContainer.addClass(n),e.dropdown.addClass(i),e.list.addClass(o),e},refresh:function(t,e){var i=this;return i._destroySelectBoxIt()._create(!0),e||i.triggerEvent("refresh"),i._callbackSupport(t),i},htmlEscape:function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},triggerEvent:function(t){var e=this,i=e.options.showFirstOption?e.currentFocus:e.currentFocus-1>=0?e.currentFocus:0;return e.selectBox.trigger(t,{selectbox:e.selectBox,selectboxOption:e.selectItems.eq(i),dropdown:e.dropdown,dropdownOption:e.listItems.eq(e.currentFocus)}),e},_copyAttributes:function(){var t=this;return t._addSelectBoxAttributes&&t._addSelectBoxAttributes(),t},_realOuterWidth:function(t){if(t.is(":visible"))return t.outerWidth(!0);var e,i=t.clone();return i.css({visibility:"hidden",display:"block",position:"absolute"}).appendTo("body"),e=i.outerWidth(!0),i.remove(),e}});var s=t.selectBox.selectBoxIt.prototype;s.add=function(e,i){this._populate(e,function(e){var o,s,n=this,a=t.type(e),r=0,l=[],c=n._isJSON(e),d=c&&n._parseJSON(e);if(e&&("array"===a||c&&d.data&&"array"===t.type(d.data))||"object"===a&&e.data&&"array"===t.type(e.data)){for(n._isJSON(e)&&(e=d),e.data&&(e=e.data),s=e.length;s-1>=r;r+=1)o=e[r],t.isPlainObject(o)?l.push(t("<option/>",o)):"string"===t.type(o)&&l.push(t("<option/>",{text:o,value:o}));n.selectBox.append(l)}else e&&"string"===a&&!n._isJSON(e)?n.selectBox.append(e):e&&"object"===a?n.selectBox.append(t("<option/>",e)):e&&n._isJSON(e)&&t.isPlainObject(n._parseJSON(e))&&n.selectBox.append(t("<option/>",n._parseJSON(e)));return n.dropdown?n.refresh(function(){n._callbackSupport(i)},!0):n._callbackSupport(i),n})},s._parseJSON=function(e){return JSON&&JSON.parse&&JSON.parse(e)||t.parseJSON(e)},s._isJSON=function(t){try{return this._parseJSON(t),!0}catch(t){return!1}},s._populate=function(e,i){var o=this;return e=t.isFunction(e)?e.call():e,o.isDeferred(e)?e.done(function(t){i.call(o,t)}):i.call(o,e),o},s._ariaAccessibility=function(){var e=this,i=t("label[for='"+e.originalElem.id+"']");return e.dropdownContainer.attr({role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":"false","aria-owns":e.list[0].id}),e.dropdownText.attr({"aria-live":"polite"}),e.dropdown.on({"disable.selectBoxIt":function(){e.dropdownContainer.attr("aria-disabled","true")},"enable.selectBoxIt":function(){e.dropdownContainer.attr("aria-disabled","false")}}),i.length&&e.dropdownContainer.attr("aria-labelledby",i[0].id),e.list.attr({role:"listbox","aria-hidden":"true"}),e.listItems.attr({role:"option"}),e.selectBox.on({"open.selectBoxIt":function(){e.list.attr("aria-hidden","false"),e.dropdownContainer.attr("aria-expanded","true")},"close.selectBoxIt":function(){e.list.attr("aria-hidden","true"),e.dropdownContainer.attr("aria-expanded","false")}}),e},s._addSelectBoxAttributes=function(){var e=this;return e._addAttributes(e.selectBox.prop("attributes"),e.dropdown),e.selectItems.each(function(i){e._addAttributes(t(this).prop("attributes"),e.listItems.eq(i))}),e},s._addAttributes=function(e,i){var o=this.options.copyAttributes;return e.length&&t.each(e,function(e,s){var n=s.name.toLowerCase(),a=s.value;"null"===a||-1===t.inArray(n,o)&&-1===n.indexOf("data")||i.attr(n,a)}),this},s.destroy=function(t){var e=this;return e._destroySelectBoxIt(),e.widgetProto.destroy.call(e),e._callbackSupport(t),e},s._destroySelectBoxIt=function(){var e=this;return e.dropdown.off(".selectBoxIt"),t.contains(e.dropdownContainer[0],e.originalElem)&&e.dropdownContainer.before(e.selectBox),e.dropdownContainer.remove(),e.selectBox.removeAttr("style").attr("style",e.selectBoxStyles),e.selectBox.show(),e.triggerEvent("destroy"),e},s.disable=function(t){var e=this;return e.options.disabled||(e.close(),e.selectBox.attr("disabled","disabled"),e.dropdown.removeAttr("tabindex").removeClass(e.theme.enabled).addClass(e.theme.disabled),e.setOption("disabled",!0),e.triggerEvent("disable")),e._callbackSupport(t),e},s.disableOption=function(e,i){var o,s,n,a=this,r=t.type(e);return"number"===r&&(a.close(),o=a.selectBox.find("option").eq(e),a.triggerEvent("disable-option"),o.attr("disabled","disabled"),a.listItems.eq(e).attr("data-disabled","true").addClass(a.theme.disabled),a.currentFocus===e&&(s=a.listItems.eq(a.currentFocus).nextAll("li").not("[data-disabled='true']").first().length,n=a.listItems.eq(a.currentFocus).prevAll("li").not("[data-disabled='true']").first().length,s?a.moveDown():n?a.moveUp():a.disable())),a._callbackSupport(i),a},s._isDisabled=function(){var t=this;return t.originalElem.disabled&&t.disable(),t},s._dynamicPositioning=function(){var e=this;if("number"===t.type(e.listSize))e.list.css("max-height",e.maxHeight||"none");else{var i=e.dropdown.offset().top,o=e.list.data("max-height")||e.list.outerHeight(),s=e.dropdown.outerHeight(),n=e.options.viewport,a=n.height(),r=t.isWindow(n.get(0))?n.scrollTop():n.offset().top,l=a+r>=i+s+o,c=!l;if(e.list.data("max-height")||e.list.data("max-height",e.list.outerHeight()),c)if(e.dropdown.offset().top-r>=o)e.list.css("max-height",o),e.list.css("top",e.dropdown.position().top-e.list.outerHeight());else{var d=Math.abs(i+s+o-(a+r)),u=Math.abs(e.dropdown.offset().top-r-o);u>d?(e.list.css("max-height",o-d-s/2),e.list.css("top","auto")):(e.list.css("max-height",o-u-s/2),e.list.css("top",e.dropdown.position().top-e.list.outerHeight()))}else e.list.css("max-height",o),e.list.css("top","auto")}return e},s.enable=function(t){var e=this;return e.options.disabled&&(e.triggerEvent("enable"),e.selectBox.removeAttr("disabled"),e.dropdown.attr("tabindex",0).removeClass(e.theme.disabled).addClass(e.theme.enabled),e.setOption("disabled",!1),e._callbackSupport(t)),e},s.enableOption=function(e,i){var o,s=this,n=t.type(e);return"number"===n&&(o=s.selectBox.find("option").eq(e),s.triggerEvent("enable-option"),o.removeAttr("disabled"),s.listItems.eq(e).attr("data-disabled","false").removeClass(s.theme.disabled)),s._callbackSupport(i),s},s.moveDown=function(t){var e=this;e.currentFocus+=1;var i="true"===e.listItems.eq(e.currentFocus).attr("data-disabled"),o=e.listItems.eq(e.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;if(e.currentFocus===e.listItems.length)e.currentFocus-=1;else{if(i&&o)return e.listItems.eq(e.currentFocus-1).blur(),void e.moveDown();i&&!o?e.currentFocus-=1:(e.listItems.eq(e.currentFocus-1).blur().end().eq(e.currentFocus).focusin(),e._scrollToView("down"),e.triggerEvent("moveDown"))}return e._callbackSupport(t),e},s.moveUp=function(t){var e=this;e.currentFocus-=1;var i="true"===e.listItems.eq(e.currentFocus).attr("data-disabled"),o=e.listItems.eq(e.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(-1===e.currentFocus)e.currentFocus+=1;else{if(i&&o)return e.listItems.eq(e.currentFocus+1).blur(),void e.moveUp();i&&!o?e.currentFocus+=1:(e.listItems.eq(this.currentFocus+1).blur().end().eq(e.currentFocus).focusin(),e._scrollToView("up"),e.triggerEvent("moveUp"))}return e._callbackSupport(t),e},s._setCurrentSearchOption=function(t){var e=this;return(e.options.aggressiveChange||e.options.selectWhenHidden||e.listItems.eq(t).is(":visible"))&&!0!==e.listItems.eq(t).data("disabled")&&(e.listItems.eq(e.currentFocus).blur(),e.currentIndex=t,e.currentFocus=t,e.listItems.eq(e.currentFocus).focusin(),e._scrollToView("search"),e.triggerEvent("search")),e},s._searchAlgorithm=function(t,e){var i,o,s,n,a=this,r=!1,l=a.textArray,c=a.currentText;for(i=t,s=l.length;s>i;i+=1){for(n=l[i],o=0;s>o;o+=1)-1!==l[o].search(e)&&(r=!0,o=s);if(r||(a.currentText=a.currentText.charAt(a.currentText.length-1).replace(/[|()\[{.+*?$\\]/g,"\\$0"),c=a.currentText),e=new RegExp(c,"gi"),c.length<3){if(e=new RegExp(c.charAt(0),"gi"),-1!==n.charAt(0).search(e))return a._setCurrentSearchOption(i),(n.substring(0,c.length).toLowerCase()!==c.toLowerCase()||a.options.similarSearch)&&(a.currentIndex+=1),!1}else if(-1!==n.search(e))return a._setCurrentSearchOption(i),!1;if(n.toLowerCase()===a.currentText.toLowerCase())return a._setCurrentSearchOption(i),a.currentText="",!1}return!0},s.search=function(t,e,i){var o=this;i?o.currentText+=t.replace(/[|()\[{.+*?$\\]/g,"\\$0"):o.currentText=t.replace(/[|()\[{.+*?$\\]/g,"\\$0");var s=o._searchAlgorithm(o.currentIndex,new RegExp(o.currentText,"gi"));return s&&o._searchAlgorithm(0,o.currentText),o._callbackSupport(e),o},s._updateMobileText=function(){var t,e,i,o=this;t=o.selectBox.find("option").filter(":selected"),e=t.attr("data-text"),i=e||t.text(),o._setText(o.dropdownText,i),o.list.find('li[data-val="'+t.val()+'"]').find("i").attr("class")&&o.dropdownImage.attr("class",o.list.find('li[data-val="'+t.val()+'"]').find("i").attr("class")).addClass("selectboxit-default-icon")},s._applyNativeSelect=function(){var t=this;return t.dropdownContainer.append(t.selectBox),t.dropdown.attr("tabindex","-1"),t.selectBox.css({display:"block",visibility:"visible",width:t._realOuterWidth(t.dropdown),height:t.dropdown.outerHeight(),opacity:"0",position:"absolute",top:"0",left:"0",cursor:"pointer","z-index":"999999",margin:t.dropdown.css("margin"),padding:"0","-webkit-appearance":"menulist-button"}),t.originalElem.disabled&&t.triggerEvent("disable"),this},s._mobileEvents=function(){var t=this;t.selectBox.on({"changed.selectBoxIt":function(){t.hasChanged=!0,t._updateMobileText(),t.triggerEvent("option-click")},"mousedown.selectBoxIt":function(){t.hasChanged||!t.options.defaultText||t.originalElem.disabled||(t._updateMobileText(),t.triggerEvent("option-click"))},"enable.selectBoxIt":function(){t.selectBox.removeClass("selectboxit-rendering")},"disable.selectBoxIt":function(){t.selectBox.addClass("selectboxit-rendering")}})},s._mobile=function(){var t=this;return t.isMobile&&(t._applyNativeSelect(),t._mobileEvents()),this},s.remove=function(e,i){var o,s,n=this,a=t.type(e),r=0,l="";if("array"===a){for(s=e.length;s-1>=r;r+=1)o=e[r],"number"===t.type(o)&&(l+=l.length?", option:eq("+o+")":"option:eq("+o+")");n.selectBox.find(l).remove()}else"number"===a?n.selectBox.find("option").eq(e).remove():n.selectBox.find("option").remove();return n.dropdown?n.refresh(function(){n._callbackSupport(i)},!0):n._callbackSupport(i),n},s.selectOption=function(e,i){var o=this,s=t.type(e);return"number"===s?o.selectBox.val(o.selectItems.eq(e).val()).change():"string"===s&&o.selectBox.val(e).change(),o._callbackSupport(i),o},s.setOption=function(e,i,o){var s=this;return"string"===t.type(e)&&(s.options[e]=i),s.refresh(function(){s._callbackSupport(o)},!0),s},s.setOptions=function(e,i){var o=this;return t.isPlainObject(e)&&(o.options=t.extend({},o.options,e)),o.refresh(function(){o._callbackSupport(i)},!0),o},s.wait=function(t,e){var i=this;return i.widgetProto._delay.call(i,e,t),i}}(window.jQuery,window,document)}(),function(t){function e(e){var a=".smartmenus_mouse";if(l||e)l&&e&&(t(document).unbind(a),l=!1);else{var c=!0,d=null;t(document).bind(s([["mousemove",function(e){var i={x:e.pageX,y:e.pageY,timeStamp:(new Date).getTime()};if(d){var o=Math.abs(d.x-i.x),s=Math.abs(d.y-i.y);if((o>0||s>0)&&2>=o&&2>=s&&300>=i.timeStamp-d.timeStamp&&(r=!0,c)){var a=t(e.target).closest("a");a.is("a")&&t.each(n,function(){return t.contains(this.$root[0],a[0])?(this.itemEnter({currentTarget:a[0]}),!1):void 0}),c=!1}}d=i}],[o()?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut",function(t){i(t.originalEvent)&&(r=!1)}]],a)),l=!0}}function i(t){return!/^(4|mouse)$/.test(t.pointerType)}function o(){return"ontouchstart"in window}function s(e,i){i||(i="");var o={};return t.each(e,function(t,e){o[e[0].split(" ").join(i+" ")+i]=e[1]}),o}var n=[],a=!!window.createPopup,r=!1,l=!1;t.SmartMenus=function(e,i){this.$root=t(e),this.opts=i,this.rootId="",this.$subArrow=null,this.subMenus=[],this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.zIndexInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.isTouchScrolling=!1,this.init()},t.extend(t.SmartMenus,{hideAll:function(){t.each(n,function(){this.menuHideAll()})},destroy:function(){for(;n.length;)n[0].destroy();e(!0)},prototype:{init:function(i){var o=this;if(!i){n.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0);var a=".smartmenus";this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind(s([["mouseover focusin",t.proxy(this.rootOver,this)],["mouseout focusout",t.proxy(this.rootOut,this)]],a)).delegate("a",s([["mouseenter",t.proxy(this.itemEnter,this)],["mouseleave",t.proxy(this.itemLeave,this)],["mousedown",t.proxy(this.itemDown,this)],["focus",t.proxy(this.itemFocus,this)],["blur",t.proxy(this.itemBlur,this)],["click",t.proxy(this.itemClick,this)],["touchend",t.proxy(this.itemTouchEnd,this)]],a)),a+=this.rootId,this.opts.hideOnClick&&t(document).bind(s([["touchstart",t.proxy(this.docTouchStart,this)],["touchmove",t.proxy(this.docTouchMove,this)],["touchend",t.proxy(this.docTouchEnd,this)],["click",t.proxy(this.docClick,this)]],a)),t(window).bind(s([["resize orientationchange",t.proxy(this.winResize,this)]],a)),this.opts.subIndicators&&(this.$subArrow=t("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),e()}if(this.$firstSub=this.$root.find("ul").each(function(){o.menuInit(t(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem){var r=/(index|default)\.[^#\?\/]*/i,l=window.location.href.replace(r,""),c=l.replace(/#.*/,"");this.$root.find("a").each(function(){var e=this.href.replace(r,""),i=t(this);(e==l||e==c)&&(i.addClass("current"),o.opts.markCurrentTree&&i.parent().parentsUntil("[data-smartmenus-id]","li").children("a").addClass("current"))})}},destroy:function(){this.menuHideAll();var e=".smartmenus";this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(e).undelegate(e),e+=this.rootId,t(document).unbind(e),t(window).unbind(e),this.opts.subIndicators&&(this.$subArrow=null);var i=this;t.each(this.subMenus,function(){this.hasClass("mega-menu")&&this.find("ul").removeDataSM("in-mega"),this.dataSM("shown-before")&&((i.opts.subMenusMinWidth||i.opts.subMenusMaxWidth)&&this.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),this.dataSM("scroll-arrows")&&this.dataSM("scroll-arrows").remove(),this.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})),i.opts.subIndicators&&this.dataSM("parent-a").removeClass("has-submenu").children("span.sub-arrow").remove(),this.removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").parent().removeDataSM("sub")}),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),n.splice(t.inArray(this,n),1)},disable:function(e){if(!this.disabled){if(this.menuHideAll(),!e&&!this.opts.isPopup&&this.$root.is(":visible")){var i=this.$root.offset();this.$disableOverlay=t('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:i.top,left:i.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(e){return this.isTouchScrolling?void(this.isTouchScrolling=!1):void((this.visibleSubMenus.length&&!t.contains(this.$root[0],e.target)||t(e.target).is("a"))&&this.menuHideAll())},docTouchEnd:function(){if(this.lastTouch){if(!(!this.visibleSubMenus.length||void 0!==this.lastTouch.x2&&this.lastTouch.x1!=this.lastTouch.x2||void 0!==this.lastTouch.y2&&this.lastTouch.y1!=this.lastTouch.y2||this.lastTouch.target&&t.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},350)}this.lastTouch=null}},docTouchMove:function(t){if(this.lastTouch){var e=t.originalEvent.touches[0];this.lastTouch.x2=e.pageX,this.lastTouch.y2=e.pageY}},docTouchStart:function(t){var e=t.originalEvent.touches[0];this.lastTouch={x1:e.pageX,y1:e.pageY,target:e.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(e){for(var i=t(e).closest("ul");i.dataSM("in-mega");)i=i.parent().closest("ul");return i[0]||null},getHeight:function(t){return this.getOffset(t,!0)},getOffset:function(t,e){var i;"none"==t.css("display")&&(i={position:t[0].style.position,visibility:t[0].style.visibility},t.css({position:"absolute",visibility:"hidden"}).show());var o=t[0].getBoundingClientRect&&t[0].getBoundingClientRect(),s=o&&(e?o.height||o.bottom-o.top:o.width||o.right-o.left);return s||0===s||(s=e?t[0].offsetHeight:t[0].offsetWidth),i&&t.hide().css(i),s},getStartZIndex:function(t){var e=parseInt(this[t?"$root":"$firstSub"].css("z-index"));return!t&&isNaN(e)&&(e=parseInt(this.$root.css("z-index"))),isNaN(e)?1:e},getTouchPoint:function(t){return t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t},getViewport:function(t){var e=t?"Height":"Width",i=document.documentElement["client"+e],o=window["inner"+e];return o&&(i=Math.min(i,o)),i},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(t){return this.getOffset(t)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(t){return this.handleEvents()&&!this.isLinkInMegaMenu(t)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"block"==this.$firstLink.css("display")},isFixed:function(){var e="fixed"==this.$root.css("position");return e||this.$root.parentsUntil("body").each(function(){return"fixed"==t(this).css("position")?(e=!0,!1):void 0}),e},isLinkInMegaMenu:function(t){return!t.parent().parent().dataSM("level")},isTouchMode:function(){return!r||this.isCollapsible()},itemActivate:function(e){var i=e.parent(),o=i.parent(),s=o.dataSM("level");if(s>1&&(!this.activatedItems[s-2]||this.activatedItems[s-2][0]!=o.dataSM("parent-a")[0])){var n=this;t(o.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(o).each(function(){n.itemActivate(t(this).dataSM("parent-a"))})}if(this.visibleSubMenus.length>s&&this.menuHideSubMenus(this.activatedItems[s-1]&&this.activatedItems[s-1][0]==e[0]?s:s-1),this.activatedItems[s-1]=e,this.visibleSubMenus[s-1]=o,!1!==this.$root.triggerHandler("activate.smapi",e[0])){var a=i.dataSM("sub");a&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(a)}},itemBlur:function(e){var i=t(e.currentTarget);this.handleItemEvents(i)&&this.$root.triggerHandler("blur.smapi",i[0])},itemClick:function(e){if(this.isTouchScrolling)return this.isTouchScrolling=!1,e.stopPropagation(),!1;var i=t(e.currentTarget);if(this.handleItemEvents(i)){if(i.removeDataSM("mousedown"),!1===this.$root.triggerHandler("click.smapi",i[0]))return!1;var o=i.parent().dataSM("sub");if(this.isTouchMode()){if(i.dataSM("href")&&i.attr("href",i.dataSM("href")).removeDataSM("href"),o&&(!o.dataSM("shown-before")||!o.is(":visible"))&&(this.itemActivate(i),o.is(":visible")))return!1}else if(this.opts.showOnClick&&1==i.parent().parent().dataSM("level")&&o)return this.clickActivated=!0,this.menuShow(o),!1;return!i.hasClass("disabled")&&(!1!==this.$root.triggerHandler("select.smapi",i[0])&&void 0)}},itemDown:function(e){var i=t(e.currentTarget);this.handleItemEvents(i)&&i.dataSM("mousedown",!0)},itemEnter:function(e){var i=t(e.currentTarget);if(this.handleItemEvents(i)){if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var o=this;this.showTimeout=setTimeout(function(){o.itemActivate(i)},this.opts.showOnClick&&1==i.parent().parent().dataSM("level")?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",i[0])}},itemFocus:function(e){var i=t(e.currentTarget);this.handleItemEvents(i)&&(this.isTouchMode()&&i.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==i[0]||this.itemActivate(i),this.$root.triggerHandler("focus.smapi",i[0]))},itemLeave:function(e){var i=t(e.currentTarget);this.handleItemEvents(i)&&(this.isTouchMode()||(i[0].blur&&i[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),i.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",i[0]))},itemTouchEnd:function(e){var i=t(e.currentTarget);if(this.handleItemEvents(i)){var o=i.parent().dataSM("sub");"#"===i.attr("href").charAt(0)||!o||o.dataSM("shown-before")&&o.is(":visible")||(i.dataSM("href",i.attr("href")),i.attr("href","#"))}},menuFixLayout:function(t){t.dataSM("shown-before")||t.hide().dataSM("shown-before",!0)},menuHide:function(t){if(!1!==this.$root.triggerHandler("beforehide.smapi",t[0])&&(t.stop(!0,!0),t.is(":visible"))){var e=function(){t.css("z-index","")};this.isCollapsible()?this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,t,e):t.hide(this.opts.collapsibleHideDuration,e):this.opts.hideFunction?this.opts.hideFunction.call(this,t,e):t.hide(this.opts.hideDuration,e),t.dataSM("ie-shim")&&t.dataSM("ie-shim").remove(),t.dataSM("scroll")&&(this.menuScrollStop(t),t.css({"touch-action":"","-ms-touch-action":""}).unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()),t.dataSM("parent-a").removeClass("highlighted");var i=t.dataSM("level");this.activatedItems.splice(i-1,1),this.visibleSubMenus.splice(i-1,1),this.$root.triggerHandler("hide.smapi",t[0])}},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),this.menuHideSubMenus(),this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove())),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.zIndexInc=0},menuHideSubMenus:function(t){t||(t=0);for(var e=this.visibleSubMenus.length-1;e>t;e--)this.menuHide(this.visibleSubMenus[e])},menuIframeShim:function(e){a&&this.opts.overlapControlsInIE&&!e.dataSM("ie-shim")&&e.dataSM("ie-shim",t("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function(t){if(!t.dataSM("in-mega")){this.subMenus.push(t),t.hasClass("mega-menu")&&t.find("ul").dataSM("in-mega",!0);for(var e=2,i=t[0];(i=i.parentNode.parentNode)!=this.$root[0];)e++;t.dataSM("parent-a",t.prevAll("a").eq(-1)).dataSM("level",e).parent().dataSM("sub",t),this.opts.subIndicators&&t.dataSM("parent-a").addClass("has-submenu")[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(e){var i,n,a=e.dataSM("parent-a"),r=e.parent().parent(),l=e.dataSM("level"),c=this.getWidth(e),d=this.getHeight(e),u=a.offset(),h=u.left,p=u.top,m=this.getWidth(a),f=this.getHeight(a),g=t(window),v=g.scrollLeft(),b=g.scrollTop(),w=this.getViewportWidth(),x=this.getViewportHeight(),y=r.hasClass("sm")&&!r.hasClass("sm-vertical"),S=2==l?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,$=2==l?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY;if(y?(i=this.opts.rightToLeftSubMenus?m-c-S:S,n=this.opts.bottomToTopSubMenus?-d-$:f+$):(i=this.opts.rightToLeftSubMenus?S-c:m-S,n=this.opts.bottomToTopSubMenus?f-$-d:$),this.opts.keepInViewport&&!this.isCollapsible()){var C=h+i,M=p+n;if(this.opts.rightToLeftSubMenus&&v>C?i=y?v-C+i:m-S:!this.opts.rightToLeftSubMenus&&C+c>v+w&&(i=y?v+w-c-C+i:S-c),y||(x>d&&M+d>b+x?n+=b+x-d-M:(d>=x||b>M)&&(n+=b-M)),y&&(M+d>b+x+.49||b>M)||!y&&d>x+.49){var T=this;e.dataSM("scroll-arrows")||e.dataSM("scroll-arrows",t([t('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],t('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){e.dataSM("scroll").up=t(this).hasClass("scroll-up"),T.menuScroll(e)},mouseleave:function(t){T.menuScrollStop(e),T.menuScrollOut(e,t)},"mousewheel DOMMouseScroll":function(t){t.preventDefault()}}).insertAfter(e));var k=".smartmenus_scroll";e.dataSM("scroll",{step:1,itemH:f,subH:d,arrowDownH:this.getHeight(e.dataSM("scroll-arrows").eq(1))}).bind(s([["mouseover",function(t){T.menuScrollOver(e,t)}],["mouseout",function(t){T.menuScrollOut(e,t)}],["mousewheel DOMMouseScroll",function(t){T.menuScrollMousewheel(e,t)}]],k)).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:i+(parseInt(e.css("border-left-width"))||0),width:c-(parseInt(e.css("border-left-width"))||0)-(parseInt(e.css("border-right-width"))||0),zIndex:e.css("z-index")}).eq(y&&this.opts.bottomToTopSubMenus?0:1).show(),this.isFixed()&&e.css({"touch-action":"none","-ms-touch-action":"none"}).bind(s([[o()?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp",function(t){T.menuScrollTouch(e,t)}]],k))}}e.css({top:"auto",left:"0",marginLeft:i,marginTop:n-f}),this.menuIframeShim(e),e.dataSM("ie-shim")&&e.dataSM("ie-shim").css({zIndex:e.css("z-index"),width:c,height:d,marginLeft:i,marginTop:n-f})},menuScroll:function(t,e,i){var o,s=t.dataSM("scroll"),n=t.dataSM("scroll-arrows"),a=parseFloat(t.css("margin-top")),l=s.up?s.upEnd:s.downEnd;if(!e&&s.velocity){if(s.velocity*=.9,.5>(o=s.velocity))return void this.menuScrollStop(t)}else o=i||(e||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(s.step));var c=t.dataSM("level");this.visibleSubMenus.length>c&&this.menuHideSubMenus(c-1);var d=s.up&&a>=l||!s.up&&l>=a?a:Math.abs(l-a)>o?a+(s.up?o:-o):l;if(t.add(t.dataSM("ie-shim")).css("margin-top",d),r&&(s.up&&d>s.downEnd||!s.up&&s.upEnd>d)&&n.eq(s.up?1:0).show(),d==l)r&&n.eq(s.up?0:1).hide(),this.menuScrollStop(t);else if(!e){this.opts.scrollAccelerate&&s.step<this.opts.scrollStep&&(s.step+=.5);var u=this;this.scrollTimeout=setTimeout(function(){u.menuScroll(t)},this.opts.scrollInterval)}},menuScrollMousewheel:function(t,e){if(this.getClosestMenu(e.target)==t[0]){var i=((e=e.originalEvent).wheelDelta||-e.detail)>0;t.dataSM("scroll-arrows").eq(i?0:1).is(":visible")&&(t.dataSM("scroll").up=i,this.menuScroll(t,!0))}e.preventDefault()},menuScrollOut:function(e,i){r&&(/^scroll-(up|down)/.test((i.relatedTarget||"").className)||(e[0]==i.relatedTarget||t.contains(e[0],i.relatedTarget))&&this.getClosestMenu(i.relatedTarget)==e[0]||e.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(t,e){if(r&&!/^scroll-(up|down)/.test(e.target.className)&&this.getClosestMenu(e.target)==t[0]){this.menuScrollRefreshData(t);var i=t.dataSM("scroll");t.dataSM("scroll-arrows").eq(0).css("margin-top",i.upEnd).end().eq(1).css("margin-top",i.downEnd+i.subH-i.arrowDownH).end().css("visibility","visible")}},menuScrollRefreshData:function(e){var i=e.dataSM("scroll"),o=t(window).scrollTop()-e.dataSM("parent-a").offset().top-i.itemH;t.extend(i,{upEnd:o,downEnd:o+this.getViewportHeight()-i.subH})},menuScrollStop:function(e){return this.scrollTimeout?(clearTimeout(this.scrollTimeout),this.scrollTimeout=0,t.extend(e.dataSM("scroll"),{step:1,velocity:0}),!0):void 0},menuScrollTouch:function(e,o){if(i(o=o.originalEvent)){var s=this.getTouchPoint(o);if(this.getClosestMenu(s.target)==e[0]){var n=e.dataSM("scroll");if(/(start|down)$/i.test(o.type))this.menuScrollStop(e)?(o.preventDefault(),this.isTouchScrolling=!0):this.isTouchScrolling=!1,this.menuScrollRefreshData(e),t.extend(n,{touchY:s.pageY,touchTimestamp:o.timeStamp,velocity:0});else if(/move$/i.test(o.type)){var a=n.touchY;void 0!==a&&a!=s.pageY&&(this.isTouchScrolling=!0,t.extend(n,{up:s.pageY>a,touchY:s.pageY,touchTimestamp:o.timeStamp,velocity:n.velocity+.5*Math.abs(s.pageY-a)}),this.menuScroll(e,!0,Math.abs(n.touchY-a))),o.preventDefault()}else void 0!==n.touchY&&(120>o.timeStamp-n.touchTimestamp&&n.velocity>0&&(n.velocity*=.5,this.menuScrollStop(e),this.menuScroll(e),o.preventDefault()),delete n.touchY)}}},menuShow:function(t){if((t.dataSM("beforefirstshowfired")||(t.dataSM("beforefirstshowfired",!0),!1!==this.$root.triggerHandler("beforefirstshow.smapi",t[0])))&&!1!==this.$root.triggerHandler("beforeshow.smapi",t[0])&&(this.menuFixLayout(t),t.stop(!0,!0),!t.is(":visible"))){if(t.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1),(this.opts.keepHighlighted||this.isCollapsible())&&t.dataSM("parent-a").addClass("highlighted"),(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)&&(t.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&t.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth)){var e=this.getWidth(t);t.css("max-width",this.opts.subMenusMaxWidth),e>this.getWidth(t)&&t.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}this.menuPosition(t),t.dataSM("ie-shim")&&t.dataSM("ie-shim").insertBefore(t);var i=function(){t.css("overflow","")};this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,t,i):t.show(this.opts.collapsibleShowDuration,i):this.opts.showFunction?this.opts.showFunction.call(this,t,i):t.show(this.opts.showDuration,i),this.visibleSubMenus[t.dataSM("level")-1]=t,this.$root.triggerHandler("show.smapi",t[0])}},popupHide:function(t){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},t?1:this.opts.hideTimeout)},popupShow:function(t,e){if(this.opts.isPopup){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.menuFixLayout(this.$root),this.$root.stop(!0,!0),!this.$root.is(":visible")){this.$root.css({left:t,top:e}),this.menuIframeShim(this.$root),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:t,top:e}).insertBefore(this.$root);var i=this,o=function(){i.$root.css("overflow","")};this.opts.showFunction?this.opts.showFunction.call(this,this.$root,o):this.$root.show(this.opts.showDuration,o),this.visibleSubMenus[0]=this.$root}}else alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.')},refresh:function(){this.menuHideAll(),this.$root.find("ul").each(function(){var e=t(this);e.dataSM("scroll-arrows")&&e.dataSM("scroll-arrows").remove()}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired"),this.$root.find("a.has-submenu").removeClass("has-submenu").parent().removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),this.subMenus=[],this.init(!0)},rootOut:function(t){if(this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(t){this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(t){if(this.handleEvents())this.isCollapsible()||"onorientationchange"in window&&"orientationchange"!=t.type||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll());else if(this.$disableOverlay){var e=this.$root.offset();this.$disableOverlay.css({top:e.top,left:e.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}}}}),t.fn.dataSM=function(t,e){return e?this.data(t+"_smartmenus",e):this.data(t+"_smartmenus")},t.fn.removeDataSM=function(t){return this.removeData(t+"_smartmenus")},t.fn.smartmenus=function(e){if("string"==typeof e){var i=arguments,o=e;return Array.prototype.shift.call(i),this.each(function(){var e=t(this).data("smartmenus");e&&e[o]&&e[o].apply(e,i)})}var s=t.extend({},t.fn.smartmenus.defaults,e);return this.each(function(){new t.SmartMenus(this,s)})},t.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollInterval:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(t,e){t.fadeOut(200,e)},collapsibleShowDuration:0,collapsibleShowFunction:function(t,e){t.slideDown(200,e)},collapsibleHideDuration:0,collapsibleHideFunction:function(t,e){t.slideUp(200,e)},showOnClick:!1,hideOnClick:!0,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0}}(jQuery),function(t){function e(t){return t.find("> li > a:not(.disabled)").eq(0)}function i(t){return t.find("> li > a:not(.disabled)").eq(-1)}function o(t,i){var o=t.nextAll("li").children("a:not(.disabled)").eq(0);return i||o.length?o:e(t.parent())}function s(t,e){var o=t.prevAll("li").children("a:not(.disabled)").eq(0);return e||o.length?o:i(t.parent())}t.fn.focusSM=function(){return this.length&&this[0].focus&&this[0].focus(),this},t.extend(t.SmartMenus.Keyboard={},{docKeydown:function(n){var a=n.keyCode;if(/(27|37|38|39|40)/.test(a)){var r=t(this),l=r.data("smartmenus"),c=t(n.target);if(l&&c.is("a")){var d=c.parent(),u=d.parent(),h=u.dataSM("level");if(h){switch(l.opts.rightToLeftSubMenus&&(37==a?a=39:39==a&&(a=37)),a){case 27:if(l.visibleSubMenus[h])l.menuHide(l.visibleSubMenus[h]);else if(1==h)if(l.opts.isPopup&&l.menuHideAll(),l.opts.keyboardEscapeFocus)try{l.opts.keyboardEscapeFocus.focusSM()}catch(n){}else{var p=r.find("a, input, select, button, textarea").eq(-1),m=t("a, input, select, button, textarea"),f=m.index(p[0])+1;m.eq(f).focusSM()}else u.dataSM("parent-a").focusSM(),l.menuHide(l.visibleSubMenus[h-1]);break;case 37:if(l.isCollapsible())break;h>2||2==h&&r.hasClass("sm-vertical")?l.activatedItems[h-2].focusSM():r.hasClass("sm-vertical")||s(l.activatedItems[0].parent()).focusSM();break;case 38:var g;if(l.isCollapsible())h>1&&(g=e(u)).length&&c[0]==g[0]?l.activatedItems[h-2].focusSM():s(d).focusSM();else 1==h&&!r.hasClass("sm-vertical")&&l.visibleSubMenus[h]&&l.opts.bottomToTopSubMenus?i(l.visibleSubMenus[h]).focusSM():(h>1||r.hasClass("sm-vertical"))&&s(d).focusSM();break;case 39:if(l.isCollapsible())break;1!=h&&l.visibleSubMenus[h]||r.hasClass("sm-vertical")?l.visibleSubMenus[h]&&!l.visibleSubMenus[h].hasClass("mega-menu")&&e(l.visibleSubMenus[h]).focusSM():o(l.activatedItems[0].parent()).focusSM();break;case 40:var v,b;if(l.isCollapsible())if(l.visibleSubMenus[h]&&!l.visibleSubMenus[h].hasClass("mega-menu")&&(v=e(l.visibleSubMenus[h])).length)v.focusSM();else if(h>1&&(b=i(u)).length&&c[0]==b[0]){for(var w=l.activatedItems[h-2].parent(),x=null;w.is("li")&&!(x=o(w,!0)).length;)w=w.parent().parent();x.focusSM()}else o(d).focusSM();else 1!=h||r.hasClass("sm-vertical")||!l.visibleSubMenus[h]||l.opts.bottomToTopSubMenus?(h>1||r.hasClass("sm-vertical"))&&o(d).focusSM():e(l.visibleSubMenus[h]).focusSM()}n.stopPropagation(),n.preventDefault()}}}}}),t(document).delegate("ul.sm","keydown.smartmenus",t.SmartMenus.Keyboard.docKeydown),t.extend(t.SmartMenus.prototype,{keyboardSetEscapeFocus:function(t){this.opts.keyboardEscapeFocus=t},keyboardSetHotkey:function(i,o){var s=this;t(document).bind("keydown.smartmenus"+this.rootId,function(n){if(i==n.keyCode){var a=!0;o&&("string"==typeof o&&(o=[o]),t.each(["ctrlKey","shiftKey","altKey","metaKey"],function(e,i){return t.inArray(i,o)>=0&&!n[i]||0>t.inArray(i,o)&&n[i]?(a=!1,!1):void 0})),a&&(e(s.$root).focusSM(),n.stopPropagation(),n.preventDefault())}})}})}(jQuery),function(t){t(function(){t("ul.navbar-nav").each(function(){var e=t(this);e.addClass("sm").smartmenus({subMenusSubOffsetX:2,subMenusSubOffsetY:-6,subIndicatorsPos:"append",subIndicatorsText:"...",collapsibleShowFunction:null,collapsibleHideFunction:null,rightToLeftSubMenus:e.hasClass("navbar-right"),bottomToTopSubMenus:e.closest(".navbar").hasClass("navbar-fixed-bottom")}).find("a.current").parent().addClass("active")}).bind({"show.smapi":function(e,i){var o=t(i),s=o.dataSM("scroll-arrows"),n=t(this).data("smartmenus");s&&s.css("background-color",t(document.body).css("background-color")),o.parent().addClass("open"+(n.isCollapsible()?" collapsible":""))},"hide.smapi":function(e,i){t(i).parent().removeClass("open collapsible")},"click.smapi":function(e,i){var o=t(this).data("smartmenus");if(o.isCollapsible()){var s=t(i),n=s.parent().dataSM("sub");if(n&&n.dataSM("shown-before")&&n.is(":visible"))return o.itemActivate(s),o.menuHide(n),!1}}})}),t.SmartMenus.prototype.isCollapsible=function(){return"left"!=this.$firstLink.parent().css("float")}}(jQuery),function(t){var e=function(e,i){this.orgWidth=e.width,this.orgHeight=e.height,this.image=e,this.reflection=null,this.alt=e.alt,this.title=e.title,this.imageOK=!1,this.options=i,this.imageOK=!0,this.options.reflHeight>0&&(this.reflection=new function(e,i,o){var s,n,a,r,l=e.width,c=e.width;if(r=t(e.parentNode),this.element=s=r.append("<canvas class='reflection' style='position:absolute'/>").find(":last")[0],!s.getContext&&t.browser.msie)this.element=s=r.append("<img class='reflection' style='position:absolute'/>").find(":last")[0],s.src=e.src,s.style.filter="flipv progid:DXImageTransform.Microsoft.Alpha(opacity="+100*o+", style=1, finishOpacity=0, startx=0, starty=0, finishx=0, finishy="+i/c*100+")";else{n=s.getContext("2d");try{t(s).attr({width:l,height:i}),n.save(),n.translate(0,c-1),n.scale(1,-1),n.drawImage(e,0,0,l,c),n.restore(),n.globalCompositeOperation="destination-out",(a=n.createLinearGradient(0,0,0,i)).addColorStop(0,"rgba(255, 255, 255, "+(1-o)+")"),a.addColorStop(1,"rgba(255, 255, 255, 1.0)"),n.fillStyle=a,n.fillRect(0,0,l,i)}catch(t){return}}t(s).attr({alt:t(e).attr("alt"),title:t(e).attr("title")})}(this.image,this.options.reflHeight,this.options.reflOpacity)),t(this.image).css("position","absolute")};t.fn.CloudCarousel=function(i){return this.each(function(){i=t.extend({},{reflHeight:0,reflOpacity:.5,reflGap:0,minScale:.5,xPos:0,yPos:0,xRadius:0,yRadius:0,altBox:null,titleBox:null,FPS:30,autoRotate:"no",autoRotateDelay:1500,speed:.2,mouseWheel:!1,bringToFront:!1},i),t(this).data("cloudcarousel",new function(i,o,s){var n=[],a=Math.sin,r=Math.cos,l=this;this.controlTimer=0,this.stopped=!1,this.container=i,this.xRadius=s.xRadius,this.yRadius=s.yRadius,this.showFrontTextTimer=0,this.autoRotateTimer=0,0===s.xRadius&&(this.xRadius=t(i).width()/2.3),0===s.yRadius&&(this.yRadius=t(i).height()/6),this.xCentre=s.xPos,this.yCentre=s.yPos,this.frontIndex=0,this.rotation=this.destRotation=Math.PI/2,this.timeDelay=1e3/s.FPS,null!==s.altBox&&(t(s.altBox).css("display","block"),t(s.titleBox).css("display","block")),t(i).css({position:"relative",overflow:"hidden"}),t(s.buttonLeft).css("display","inline"),t(s.buttonRight).css("display","inline"),t(s.buttonLeft).bind("mouseup",this,function(t){return t.data.rotate(-1),!1}),t(s.buttonRight).bind("mouseup",this,function(t){return t.data.rotate(1),!1}),s.mouseWheel&&t(i).bind("mousewheel",this,function(t,e){return t.data.rotate(e),!1}),t(i).bind("mouseover click",this,function(e){clearInterval(e.data.autoRotateTimer);var i=t(e.target).attr("alt");if(void 0!==i&&null!==i&&(clearTimeout(e.data.showFrontTextTimer),t(s.altBox).html(t(e.target).attr("alt")),t(s.titleBox).html(t(e.target).attr("title")),s.bringToFront&&"click"==e.type)){var n=(t(e.target).data("itemIndex")-e.data.frontIndex)%o.length;Math.abs(n)>o.length/2&&(n+=n>0?-o.length:o.length),e.data.rotate(-n)}}),t(i).bind("mouseout",this,function(t){var e=t.data;clearTimeout(e.showFrontTextTimer),e.showFrontTextTimer=setTimeout(function(){e.showFrontText()},1e3),e.autoRotate()}),t(i).bind("mousedown",this,function(t){return t.data.container.focus(),!1}),i.onselectstart=function(){return!1},this.innerWrapper=t(i).wrapInner('<div style="position:absolute;width:100%;height:100%;"/>').children()[0],this.showFrontText=function(){void 0!==n[this.frontIndex]&&(t(s.titleBox).html(t(n[this.frontIndex].image).attr("title")),t(s.altBox).html(t(n[this.frontIndex].image).attr("alt")))},this.go=function(){if(0===this.controlTimer){var t=this;this.controlTimer=setTimeout(function(){t.updateAll()},this.timeDelay)}},this.stop=function(){clearTimeout(this.controlTimer),this.controlTimer=0},this.rotate=function(t){this.frontIndex-=t,-1==this.frontIndex?this.frontIndex=n.length-1:this.frontIndex%=n.length,this.destRotation+=Math.PI/n.length*(2*t),this.showFrontText(),this.go()},this.autoRotate=function(){if("no"!==s.autoRotate){var t="right"===s.autoRotate?1:-1;this.autoRotateTimer=setInterval(function(){l.rotate(t)},s.autoRotateDelay)}},this.updateAll=function(){var e,i,o,l,c,d,u,h=s.minScale,p=.5*(1-h),m=this.destRotation-this.rotation,f=Math.abs(m);this.rotation+=m*s.speed,f<.001&&(this.rotation=this.destRotation);var g,v=n.length,b=Math.PI/v*2,w=this.rotation,x=t.browser.msie;this.innerWrapper.style.display="none";for(var y,S="px",$=this,C=0;C<v;C++){if(d=n[C],c=((u=a(w))+1)*p+h,o=this.xCentre+(r(w)*this.xRadius-.5*d.orgWidth)*c,l=this.yCentre+u*this.yRadius*c,d.imageOK){var M=d.image;e=M.width=d.orgWidth*c,i=M.height=d.orgHeight*c,M.style.left=o+S,M.style.top=l+S,M.style.zIndex=""+100*c>>0,null!==d.reflection&&(y=s.reflHeight*c,(g=d.reflection.element.style).left=o+S,g.top=l+i+s.reflGap*c+S,g.width=e+S,x?g.filter.finishy=y/i*100:g.height=y+S)}w+=b}this.innerWrapper.style.display="block",f>=.001?this.controlTimer=setTimeout(function(){$.updateAll()},this.timeDelay):this.stop()},this.checkImagesLoaded=function(){var i;for(i=0;i<o.length;i++)if(void 0===o[i].width||void 0!==o[i].complete&&!o[i].complete)return;for(i=0;i<o.length;i++)n.push(new e(o[i],s)),t(o[i]).data("itemIndex",i);clearInterval(this.tt),this.showFrontText(),this.autoRotate(),this.updateAll()},this.tt=setInterval(function(){l.checkImagesLoaded()},50)}(this,t(".cloudcarousel",t(this)),i))}),this}}(jQuery);var Util=function(){var t={getParamsHash:function(){for(var t,e=window.location.search.substring(1).split("&"),i={},o=0;o<e.length;o++)(t=e[o].split("="))[0]&&(i[t[0]]=t[1]);return i},onContentPage:function(){return"/content.php"===window.location.pathname},getCookieName:function(t){return t+"-"+$member_id+"-"+$course_id},saveHrefFromBase:function(){var t=$(this),e=document.location.href.replace(/#.*$/,""),i=e+t.attr("href").replace(e,"");t.attr("href",i)},isMobileDevice:function(){return/(iP(hone|ad|od))|android/i.test(navigator.userAgent)}};return t.exports={parameters_hash:t.getParamsHash(),member_id:$member_id,course_id:$course_id,domain_id:$domain_id,onContentPage:t.onContentPage(),getCookieName:t.getCookieName,saveHrefFromBase:t.saveHrefFromBase,isMobileDevice:t.isMobileDevice},t.exports}(),Diagnostic=function(t,e){var i={current_link:null,tooltip:null,tooltip_api:null,tooltip_config:{content:{title:{button:!0,text:"What's this?"}},show:{event:!1},hide:{event:!1},style:{classes:"ui-tooltip-shadow ui-tooltip-green"},position:{my:"left center",at:"right center"}},linkHandler:function(e){e.preventDefault();var o=this,s=document.location.pathname+document.location.search,n=i.getCidFromLink(o);t.cookie(i.linkCookieName(),s,{path:"/"}),t.post("/tools/get_children.php",{content_id:n},"json").done(function(e){t.cookie(i.childrenCookieName(),JSON.stringify([n].concat(e.children)),{path:"/"}),document.location.href=o.href}).fail(function(){alert("Please refresh the page. You may be logged out.")})},linkCookieName:function(){return i.getCookieName("diagnostic-link-to-diagnostic")},childrenCookieName:function(){return i.getCookieName("diagnostic-children-list")},getCookieName:function(t){return t+"-"+e.member_id+"-"+e.course_id},repositionTooltip:function(){i.tooltip_api.reposition(null,!1),i.tooltip_api.toggle(!0)},getCidFromLink:function(t){var e=t.href.match(/(?:cid=)(\d+)$/);return e.length>1&&e[1]},inContent:function(){return e.parameters_hash.cid&&t.cookie(i.childrenCookieName())&&t.inArray(e.parameters_hash.cid,JSON.parse(t.cookie(i.childrenCookieName())))>-1},showReturnLink:function(){t('<a class="return-to-diagnostic-link ui-corner-left">&larr;</a>').attr("href",i.current_link+"#subject-scores").appendTo("body").animate({width:"13em"},1200,function(){t(this).html("&larr;back to results by category")})},showReturnButton:function(){var e=t("#theme-main-col-copyright"),o=t('<a class="return-to-diagnostic-button buttonstyle ui-corner-all">Return to results by category</a>').attr("href",i.current_link+"#subject-scores"),s=t("<div class='text-center'></div>").html(o);e.length?s.insertBefore(e):s.appendTo("#contentcolumn")},setUpToolTips:function(){i.tooltip=t(".subject_report .diagnostic-link-to-content:first").qtip(i.tooltip_config),i.tooltip_api=i.tooltip.qtip("api"),setTimeout(i.repositionTooltip,500),t(window).resize(i.repositionTooltip)}};return i.exports={checkCookie:function(){i.current_link=t.cookie(i.linkCookieName()),i.current_link&&e.onContentPage&&(t(document).ready(i.showReturnButton),i.inContent()&&t(document).ready(i.showReturnLink))},init:function(){t.removeCookie(i.linkCookieName(),{path:"/"}),t.removeCookie(i.childrenCookieName(),{path:"/"}),i.setUpToolTips(),t(".diagnostic-link-to-content").on("click",i.linkHandler)}},i.exports}(jQuery,Util);Diagnostic.checkCookie(),window.Atutor=window.Atutor||{},window.Atutor.a11y={screenReader:{classes:"screenreader off-screen",announce:function(t,e,i){var o=i||3e3,s=Atutor.a11y.screenReader.message(t).attr({role:"alert","aria-live":"assertive"}).appendTo("body");setTimeout(function(){s.remove(),"function"==typeof e&&e()},o)},message:function(t){return $("<div></div>").attr({id:"screenreader-message-"+parseInt(9999*Math.random()+1)}).addClass(Atutor.a11y.screenReader.classes).append($("<p></p>").html(t))},button:function(t){return $("<button></button>").attr({id:"screenreader-button-"+parseInt(9999*Math.random()+1),tabindex:"-1"}).addClass(Atutor.a11y.screenReader.classes+" buttonstyle").html(t)}},keyboard:{classes:"instructions visible-on-keyboard-focus",message:function(t){return $("<div></div>").attr({id:"keyboard-message-"+parseInt(9999*Math.random()+1),tabindex:"0","aria-hidden":"true"}).addClass(Atutor.a11y.keyboard.classes).append($("<p></p>").html(t))}}},window.Atutor.utils=window.Atutor.utils||{},window.Atutor.utils.dialog=function(t,e,i,o){var s={minWidth:200,width:Math.min(500,$("#contentcolumn").width()),open:function(){n.focus()},close:function(){$.isFunction(o)&&o(n)},buttons:[{class:"btn text-bold",text:"OK",click:function(){$(this).dialog("close")}}]},n=$("<div></div>").attr({tabindex:"0",title:e}).html(t).appendTo("body");return n.dialog($.extend(s,i)),n},window.Atutor.utils.modal=function(t,e,i,o){return window.Atutor.utils.dialog(t,e,$.extend(i,{modal:!0}),o)},window.Atutor.utils.single_use_dialog=function(t,e,i,o){return window.Atutor.utils.dialog(t,e,i,function(t){t.dialog("destroy").remove(),$.isFunction(o)&&o(t)})},"ontouchstart"in window||$(".content-link[data-tipped],.assessment-link[data-tipped]").each(function(){var t=$(this).get(0).closest("ul");$(this).width()>1.15*t.offsetWidth&&$(this).qtip({content:{title:!1,text:function(){return $(this).data("tipped")}},show:{event:"focus mouseenter click",solo:$("#content-navigation"),effect:!1,delay:0},hide:{event:"unfocus mouseleave blur keydown",delay:500,fixed:!0},position:{viewport:$(window),my:"bottom left",at:"top left",adjust:{method:"shift flip",x:50}},style:{classes:"qtip-tipsy"}})}),window.Atutor.utils.refreshSlideShow=function(){var t=(this instanceof jQuery?this:$(this)).find(".new-slide-show");t.length&&t.each(function(){$(this).data("MindEdge-slideshow")._refresh()})},window.Atutor.utils.scrollTo=function(t){$("html, body").animate({scrollTop:t.offset().top-$("#theme-main-col-tool-bar").outerHeight(!0)-10})},window.Atutor.utils.newWindow=function(t){var e=window.open("","");e.document.open(),e.document.write(t),e.document.close(),e.focus()},$.widget("MindEdge.slideshow",{options:{change:null,ready:null,initFlag:!0},goToSlide:function(t,e,i){var o=this.element;if(o.find(".slide:eq("+t+")").each(function(){var t=$(this).closest(".new-slide-show-container").find(".prev-slide"),e=t.siblings(".next-slide");$(this).prev(".slide").length?t.removeAttr("disabled").removeClass("ui-state-disabled"):t.attr("disabled","disabled").addClass("ui-state-disabled"),$(this).next(".slide").length?e.removeAttr("disabled").removeClass("ui-state-disabled"):e.attr("disabled","disabled").addClass("ui-state-disabled")}).show().siblings(".slide").hide().closest(".new-slide-show-container").find(".slide-show-current").html(t+1),!e)try{this.slider.slider("value",t+1)}catch(t){console&&console.log&&console.log("This is the first time!")}this._refresh(),this.options.initFlag||o.focus()},next:function(t){this.goToSlide(this.element.find(".slide:visible").index()+1,!1,null)},prev:function(t){this.goToSlide(this.element.find(".slide:visible").index()-1,!1,null)},_create:function(){var t=$.proxy(this.goToSlide,this),e=$.proxy(this.next,this),i=$.proxy(this.prev,this),o=this.element.children().length;this.sr_instructions="<span class='screenreader off-screen'>The following feature is a slideshow with "+o+" slides.  Use tab to access slideshow controls.  Once the focus is on the slideshow, you can navigate the slides with alt plus left or right arrow key.</span>",this.slider=$("<div class='slide-show-slider' role='button'></div>"),this.slides=this.element.children().each(function(t){var e=$(this);if(e.is("img")){var i="",s=void 0!==e.attr("alt"),n=void 0!==e.attr("title");s&&(i+="<span class='screenreader off-screen'>Slide "+(t+1)+"</span><p class='new-slide-show-alt' style='float:right'>"+e.attr("alt")+"</p>",e.attr("alt","")),n&&(i+="<p class='new-slide-show-title'>"+e.attr("title")+"</p>",e.removeAttr("title")),i+="<span class='screenreader off-screen'>"+(0===t?"End of First Slide":t===o-1?"End of Last Slide":"End of Slide "+(t+1))+"</span></br>\n",e.after($("<div></div>",{html:i,class:"slide-caption"})).add(e.next()).wrapAll($("<div class='slide'></div>")).end().wrap($("<div class='slide-image'></div>"))}else e.addClass("slide-not-image").wrap($("<div class='slide'></div>"))});var s=$("<div></div>").addClass("ui-widget-header slide-show-controls").append($("<button>",{class:"prev-slide",html:"previous<span class='screenreader off-screen'> slide</span>"}).button({icons:{primary:"ui-icon-arrowthick-1-w"},text:!0}),$("<div class='slide-show-counter' aria-live='assertive'><span class='screenreader off-screen'>Displaying slide </span><span class='slide-show-current'></span><span aria-hidden='true'> / </span><span class='screenreader off-screen'>of</span><span class='slide-show-total'>"+o+"</span></div>"),$("<button>",{class:"next-slide",html:"next<span class='screenreader off-screen'> slide</span>"}).button({icons:{secondary:"ui-icon-arrowthick-1-e"},text:!0})),n=$("<div></div>").addClass("ui-widget-header slide-show-controls").append($("<button>",{class:"prev-slide",html:"previous<span class='screenreader off-screen'> slide</span>"}).button({icons:{primary:"ui-icon-arrowthick-1-w"},text:!0}),$("<div class='slide-show-counter'><span class='screenreader off-screen'>Displaying slide </span><span class='slide-show-current'></span><span aria-hidden='true'> / </span><span class='screenreader off-screen'>of</span><span class='slide-show-total'>"+o+"</span></div>"),$("<button>",{class:"next-slide",html:"next<span class='screenreader off-screen'> slide</span>"}).button({icons:{secondary:"ui-icon-arrowthick-1-e"},text:!0}));this.controls={top:s.clone(!0).disableSelection(),bottom:n.clone(!0).disableSelection()};var a=-1===navigator.userAgent.indexOf("MSIE 7")?"":" ie-7";this.element.addClass("ui-widget-content").before(this.sr_instructions).wrap($("<div class='ui-widget new-slide-show-container"+a+"'></div>")).before(this.controls.top).after(this.controls.bottom).append(this.slider).children(".slide").hide().closest(".new-slide-show-container").on("click",".next-slide",e).on("click",".prev-slide",i).on("keydown",function(t){switch(t.which||t.keyCode||0){case 37:i();break;case 39:e()}}),"ontouchstart"in window||this.slider.slider({value:1,min:1,max:o,create:function(t,e){$(this).removeClass("ui-corner-all")},change:function(e,i){t(i.value-1,!0,null)}}),this.options.ready(this.element)},_init:function(){this.goToSlide(0,!1,null),this.options.initFlag=!1},_refresh:function(){var t=this.element.closest(".new-slide-show-container"),e=(t.find(".slide-show-controls"),function(){$(this).css("margin-top",($(this).parent().height()-$(this).height())/2)});t.find(".slide:visible .slide-image img").each(e).load(e)},destroy:function(){$.Widget.prototype.destroy.call(this)},_setOptions:function(){this._refresh()},_setOption:function(t,e){$.Widget.prototype._setOption.apply(this,arguments)}}),$.widget("MindEdge.columnHighlight",{options:{},_create:function(){this.column=this.element.closest(".column-highlight").find("td:nth-child("+(this.element.index()+1)+")"),this._on(this.element,{mouseenter:"highlight",mouseleave:"unhighlight"}),this._refresh()},highlight:function(){this.column.addClass("column-highlighted")},unhighlight:function(){this.column.removeClass("column-highlighted")},_refresh:function(){},_destroy:function(){},_setOptions:function(){this._superApply(arguments),this._refresh()},_setOption:function(t,e){this._super(t,e)}}),$.fn.moreLess=function(){var t='&nbsp;See more...<span class="screenreader off-screen">unless you are using a screen reader because you have already heard the content.</span>',e="&nbsp;See less...";return $(document).on("click",".more-less-link",function(i){i.preventDefault();var o=$(this).closest(".more-less-container"),s=o.data("showing"),n=o.data(s?"lessHeight":"moreHeight"),a=s?t:e,r=!s;o.data("showing",!s).find(".more-less-link,.more-less-extra").hide().end().stop(!0,!0).animate({height:n},800,function(){o.find(".more-less-extra").toggleClass("off-screen").end().find(".more-less-link").html(a).attr("aria-expanded",r).add(".more-less-extra").fadeIn("fast").css({display:"inline"})})}),$(this).each(function(){$(this).find(".more-less-extra").addClass("off-screen").end().find(".more-less-link").attr({role:"button","aria-expanded":!1}).html(t).end().data("showing",!1).css("height",$(this).outerHeight()+"px").data("lessHeight",$(this).outerHeight()+"px").find(".more-less-extra").removeClass("off-screen").end().css("height","auto").data("moreHeight",$(this).outerHeight()+"px").find(".more-less-extra").addClass("off-screen").end().css("height",$(this).data("lessHeight"))})},function(t){function e(t){return"<span class='screenreader off-screen'>"+t+"</span>"}t.fn.fractions=function(){var i=e("fraction begin. "),o=e("fraction end. "),s=e("numerator: "),n=e("denominator: ");return this.each(function(){var e=t(this);if(!e.find(".top").length){var a="",r=e.html().split("/");2===r.length&&(a+='<span class="top">',a+=r[0],a+="</span>",a+='<span class="bottom">',a+=r[1],a+="</span>",e.html(a))}e.prepend(i).append(o).find(".top").prepend(s).end().find(".bottom").prepend(n)})}}(jQuery),$(function(){$("<hr>").insertAfter($(".clickable-list-item")),window.TableFixer=function(){var t=$("table"),e=$("#contentcolumn").innerWidth();return{fix:function(){t.each(function(){var t=$(this),i=$("#flot_placeholder").length,o=t.parent().hasClass("timeline_wrapper"),s="/tools/content/reorder.php"===location.pathname;i||o||s||t.width()>e&&t.addClass("table").wrap('<div class="table-responsive"></div>');var n=t.attr("cellpadding");n&&t.find("td, th").css("padding",n);var a=t.attr("bgcolor");a&&t.css("background-color",a)})}}}(),window.VideoPixelWidthContainerFixer=function(){var t=$(".jwplayer-wrapper");function e(){var t=$(this).parent();t[0].style.width&&t.css("width","")}return{fix:function(){t.each(e)}}}(),window.TestImageFixer=function(){var t=$("#test_page").innerWidth()*(2/3),e=$(".test-question-container img").not(".mc_indent img");return{fix:function(){e.each(function(){var e=$(this);e.width()>t&&e.css("width","100%")})}}}(),window.LegendFixer=function(){var t=$(".group_form legend"),e=t.first().closest(".input-form"),i=.75*e.innerWidth();return{fix:function(){e.length&&i>50&&!e.is(":hidden")&&t.css("max-width",i+"px")}}}();var t=$("#main-navigation");$(document).on("content_shown",function(){TableFixer.fix(),LegendFixer.fix(),"function"===(typeof $.fn.moreLess).toLowerCase()&&$(".more-less-container").moreLess()}),VideoPixelWidthContainerFixer.fix(),TestImageFixer.fix(),$(".example_grouping, .example_grouping1, .example_grouping2, .example_grouping3").hide().filter(":first-child").show().addClass("firstexample").end().filter(":last-child").addClass("lastexample").end().append('<div class="examplearrow_next"><img src="theme_images/example_arrow.png" class="next_example_btn" alt="click to access the next example" style="cursor:pointer;"/></div><div class="examplearrow_back"><img src="theme_images/example_arrow_back.png" id="prev_example_btn" alt="click to access the previous example" style="cursor:pointer;"/></div>').children(".examplearrow_next").click(function(){$(this).parent().fadeOut(200,function(){$(this).next().fadeIn()})}).end().children(".examplearrow_back").click(function(){$(this).parent().fadeOut(200,function(){$(this).prev().fadeIn()})}),$(".firstexample.lastexample").addClass("firstandlast"),$("#mindedge-carousel").CloudCarousel({reflHeight:56,reflGap:2,titleBox:$("#mindedge-carousel-title"),altBox:$("#mindedge-carousel-alt"),buttonLeft:$("#but1"),buttonRight:$("#but2"),yRadius:40,xPos:285,yPos:0,speed:.15}),$(".choice_input").click(function(){$("#decision_choices li").not($(this).parent("li")).animate({opacity:0,left:"-=600"},1e3)});var e=$("#practice_exercises_tab_body").show().addClass("practice_exercises_tab_body_in"),i=$("#practice_exercises_tab_wrapper").show().addClass("practice_exercises_tab_wrapper_in");$("#side_tab_image").effect("bounce",{times:3},150).click(function(){e.toggleClass("practice_exercises_tab_body_out practice_exercises_tab_body_in"),i.toggleClass("practice_exercises_tab_wrapper_out practice_exercises_tab_wrapper_in")}),$(".new-slide-show").slideshow({ready:function(t){$(window).resize(function(){t.data("MindEdge-slideshow")._refresh()})}}),$(".column-highlight td").columnHighlight(),$(".poparea, .poptext, .poparea_dark").show(),$(".poparea, .poparea_dark").siblings("img").load(function(){$(this).siblings(".poparea, .poparea_dark").show()}),$(".poparea_msg_body, .poparea_msg_body_dark").prepend('<a class="click_info_close" role="button" tabindex="0"><img src="/images/theme_images/close_button_small.png" alt="close information box" /></a>'),$(".click_info_close").on("click keypress",function(t){var e=t.which||t.keyCode;"click"!==t.type&&13!==e&&32!==e||$(this).parents('[class*="poparea_msg_body"]').fadeOut()}),$(".msg_head").attr({role:"button",tabindex:"0","aria-expanded":"false"}).off("click").keydown(function(t){13===(t.keyCode||t.which)&&$(this).trigger("click")}).click(function(){var e=$(this).next(".msg_body");"false"==$(this).attr("aria-expanded")?$(this).attr("aria-expanded","true"):$(this).attr("aria-expanded","false"),$(this).closest("#dashboard").length?($("#dashboard").find(".msg_body").not(e).slideUp(),e.not(":visible").slideDown(600)):(e.is(".autocollapse")&&$(".autocollapse").not(e).slideUp(),e.slideToggle(600,function(){$(this).find(".click_info_close").focus();var e=$(this).closest(".reviewquestions").find([".msg_head img[src$='question_icon\\.jpg']",".msg_head img[src$='question_icon\\.png']",".msg_head img[src$='answer_icon\\.jpg']",".msg_head img[src$='answer_icon\\.png']",".msg_head img[src$='question2_icon2\\.gif']"].join(", "));e.length&&e.offset().top>$(window).scrollTop()+t.outerHeight()&&$("html,body").animate({scrollTop:e.offset().top+Math.abs($("#contentcolumn").offset().top)-t.outerHeight()},1e3)}))}).show(),$(".reviewqanswers").prepend("<span class='screenreader off-screen'>Choose only one answer below.</span>"),$(".reviewqanswers .msg_head").each(function(){$(this).html().indexOf("<math>")>-1&&$(this).removeAttr("role").append("<span aria-role=switch class='screenreader off-screen'>Click here to select this answer</span>").attr({tabindex:"0","aria-haspopup":"true"})}).click(function(){var t=$(this).next(".msg_body");t.is(":visible")&&t.focus()}),$(".reviewqanswers .feedback").each(function(){$(this).attr({tabindex:"0",role:"status"})}),$(".reviewquestions .centerdiv").each(function(){$(this).removeAttr("role");$(this).closest(".reviewquestions").find([".msg_head img[src$='question_icon\\.jpg']",".msg_head img[src$='question_icon\\.png']",".msg_head img[src$='answer_icon\\.jpg']",".msg_head img[src$='answer_icon\\.png']",".msg_head img[src$='question2_icon2\\.gif']"].join(", ")).parent().attr("role","button")}),$(".msg_body").hide().attr("role","dialog"),$(".jquery_accordion").accordion({collapsible:!0,header:"dt",heightStyle:"content",active:!1,activate:function(e,i){var o=t.outerHeight(),s=i.newHeader.length&&i.newHeader.offset().top<$(window).scrollTop()+o;window.Atutor.utils.refreshSlideShow.call(this),s&&$("html,body").animate({scrollTop:i.newHeader.offset().top-(o+10)})}}),$("[role=tablist]").attr("role",""),$("[role=tabpanel]").attr("role",""),$("[role=tab]").attr("role","button").attr("tabindex",0),$(".mindedge_tabs").find("> ul > li > a").each(Util.saveHrefFromBase).end().tabs({create:function(){var t=$(this);window.Atutor.utils.refreshSlideShow.call(t),t.before('<span class="screenreader off-screen">Select a list item tab, press enter, then search down for text. When you hear End of tab content, go back to the next list item to access the next list item tab.</span>').find(".ui-tabs-panel").append('<span class="screenreader">End of tab content.</span><p style="clear:both;"></p>')},activate:function(){window.Atutor.utils.refreshSlideShow.call($(this))}}),$(".fraction").fractions(),$(".glossary-alert").parent().not("[class^='ui-accordion-']").css({padding:"0px 3px"})});var $html=$(document.documentElement),$body=$(document.body),$themeVars={themeColorOverride:null,navSwipeXDown:null,navSwipeYDown:null};function toggleNav(t){var e=$(window).width()>1140?400:300;$("#content-navigation").css({left:"-"+e+"px",width:e+"px"}),$body.hasClass("show-nav")?($.cookie(Util.getCookieName("hide-content-nav-onload"),!0),$("#content-navigation").find("a").attr("tabindex","-1"),rotateElement($("#content-navigation-toggle").find("i"),0),$body.removeClass("show-nav"),$("#content-navigation-toggle").css({transform:"translate(0px, 0)"}),$("#content-navigation-toggle").attr({"aria-expanded":"false"})):$("#left-navigation").length>0&&($.removeCookie(Util.getCookieName("hide-content-nav-onload")),void 0!==t&&t?($("#content-navigation-toggle").attr({"aria-expanded":"true"}),$("#content-navigation").find("a").removeAttr("tabindex").end(),$("#skipToMenu").focus()):($("#content-navigation").find("a").removeAttr("tabindex").end().focus(),$("#content-navigation-toggle").attr({"aria-expanded":"true"})),rotateElement($("#content-navigation-toggle").find("i"),180),$body.addClass("show-nav"),$("#content-navigation-toggle").css({transform:"translate("+e+"px, 0)"})),$(window).width()>1400?$body.hasClass("show-nav")?($("#contentcolumn").removeClass("col-md-8 offset-md-2"),$("#contentcolumn").addClass("col-md-7 offset-md-4")):($("#contentcolumn").removeClass("col-md-7 offset-md-4"),$("#contentcolumn").addClass("col-md-8 offset-md-2")):$(window).width()>1140&&($body.hasClass("show-nav")?($("#contentcolumn").removeClass("col-md-8 offset-md-2"),$("#contentcolumn").addClass("col-md-7 offset-md-5")):($("#contentcolumn").removeClass("col-md-7 offset-md-5"),$("#contentcolumn").addClass("col-md-8 offset-md-2")))}function updateBackgroundSettings(){!$(this).length||$(this).is(":checked")?($body.removeClass("no-background-image"),$.removeCookie(Util.getCookieName("no-background"))):($body.addClass("no-background-image"),$.cookie(Util.getCookieName("no-background"),!0))}function changeTheme(t){$(".btn-theme-chooser").removeClass("active"),"theme-normal"!=t&&-1===t.indexOf("theme-override")||null==$themeVars.themeColorOverride?"theme-normal"!=t&&(void 0!==$themeVars.themeColorOverride&&null!=$themeVars.themeColorOverride&&$themeVars.themeColorOverride.remove(),console.log("Setting theme to "+t),$themeVars.themeColorOverride=$('<link rel="stylesheet" href="/themes/materialbrd/css/theme-override/'+t+'.css" type="text/css" />'),$("body").append($themeVars.themeColorOverride),$.cookie("system-theme-override",t),$("#"+t).addClass("active")):($themeVars.themeColorOverride.remove(),$.removeCookie("system-theme-override"),$("#theme-normal").addClass("active"))}function updateStudentViewSettings(t){var e=$.cookie(Util.getCookieName("student-view"));t&&(e=!e),e?($("#student-view-toggle").html("On"),$body.addClass("student-view"),$.cookie(Util.getCookieName("student-view"),!0)):($("#student-view-toggle").html("Off"),$body.removeClass("student-view"),$.removeCookie(Util.getCookieName("student-view"))),$(window).resize(),updateContentNavToggle()}function updateContentNavToggle(){if("undefined"!=typeof Modernizr&&Modernizr.csstransforms){var t=$("#content-navigation-toggle"),e=(t.outerWidth(!0)-t.outerHeight(!0))/2+1;t.css("left",-Math.ceil(e)+"px")}}function rotateElement(t,e){t.animate({borderSpacing:e},{step:function(t,e){$(this).css("-webkit-transform","rotate("+t+"deg)"),$(this).css("-moz-transform","rotate("+t+"deg)"),$(this).css("transform","rotate("+t+"deg)")},duration:200},"linear")}$(document).on("content_shown",function(){var t="#page-selectSelectBoxIt";window.SkipToConfig={settings:{skipTo:{headings:"h1, h2, h3, h4, h5",ids:t,wrap:"true"}}};var e=$.getScript("/themes/materialbrd/plugins/skipTo/SkipTo.min.js",function(){$("#skipToMenu").find("a").each(Util.saveHrefFromBase).filter("[href$='"+t+"']").text("Assignment Selector");var e=$("#skipToMenu");$("#mainHeaderEle").prepend(e),$(".skipTo").on("focusin",function(){$(this).animate({top:"76px"},{queue:!1,duration:100})}),$(".skipTo").on("focusout",function(){$(this).animate({top:"0"},{queue:!1,duration:100})}),i(),$(window).on("hashchange",i)});function i(){$(t).attr("tabindex","0")}$.when(e).always(function(){$(window).resize()}),updateContentNavToggle()}),$(function(){var t=$("#section-title"),e=$("#main"),i=$("#page-select"),o=$("#main-navigation"),s=$("#content-navigation"),n=$("#content-navigation-toggle"),a=$("#navbarCollapse"),r=$("#identity"),l=$("#theme-main-col-tool-bar"),c=$("#navbar-toggle"),d=$("#collapsible-menu"),u=$(window).scrollTop(),h=u<1,p=c.is(":visible"),m=o.height()<100,f=$(window).width(),g=$(window).height(),v=(window,$("#theme-normal")),b=$("#theme-high-contrast"),w=$("#theme-alt-high-contrast"),x=$("#theme-alt-style"),y=$("#theme-alt-style2");$(window).width()>1140&&-1==window.location.pathname.indexOf("/editor")&&void 0===$.cookie(Util.getCookieName("hide-content-nav-onload"))&&$("#content-navigation").ready(function(){toggleNav(!0)});let S=document.querySelector("#left-navigation");function C(){s.one("focus",function(){$body.hasClass("show-nav")||toggleNav()})}S&&window.innerWidth<1140&&S.addEventListener("focusout",t=>{S.contains(t.relatedTarget)||toggleNav()}),$(document).on("click",".toggle-nav",function(t){t.preventDefault(),toggleNav()}),s.on("blur",function(){C()}),C(),s.find("a").attr("tabindex","-1"),i.selectBoxIt({autoWidth:!1,create:function(){$("#page-selectSelectBoxItContainer").attr("aria-labelledby","page-selectSelectBoxItText"),$(".selectboxit-option-anchor").addClass("truncate-with-ellipsis"),$(window).resize()}}).on("change",function(t){t.preventDefault();var e=i.val();if(e)switch($(i[0].options[i[0].selectedIndex]).data("type")){case"content":document.location.href="/content.php?cid="+e;break;case"test":document.location.href="/tools/test_intro.php?tid="+e;break;default:document.location.href="/index.php"}});var M=$("#background-image-checkbox");v.click(changeTheme.bind(this,"theme-normal")),b.click(changeTheme.bind(this,"theme-high-contrast")),w.click(changeTheme.bind(this,"theme-alt-high-contrast")),x.click(changeTheme.bind(this,"theme-alt-style")),y.click(changeTheme.bind(this,"theme-alt-style2")),M.prop("checked",!$.cookie(Util.getCookieName("no-background"))).change(updateBackgroundSettings),updateBackgroundSettings.call(M);var T=$("#student-view-toggle");T.click(updateStudentViewSettings.bind(null,!0)),updateStudentViewSettings.call(T,!1),o.find("a[href^='#']").not(".ignore-base").each(Util.saveHrefFromBase),$(window).on("resize orientationchange",function(){var i=c.is(":visible"),u=o.outerHeight(!0)-20,h=(n.outerWidth(!0),n.outerHeight(!0),l.width()-r.width());f=window.innerWidth,g=window.innerHeight,f<1200?(a.css("max-height",g-200),a.css("overflow-y","scroll")):(a.css("max-height",""),a.css("overflow-y","")),(p=i)&&$body.removeClass("sticky"),(!p||p&&!d.is(".in"))&&(n.css({top:u+"px"}),s.css({height:g-u-0+"px",top:u+"px"}),"undefined"!=typeof Modernizr&&Modernizr.csstransforms),d.is(".in")||e.css("margin-top",u+"px"),p||t.css("max-width",h-10+"px")}).on("scroll",function(){p||m||(u=$(window).scrollTop(),h&&u>0?(h=!1,$body.addClass("sticky")):!h&&u<1&&(h=!0,$body.removeClass("sticky")))}),$(document).on("click","#menu-appearance",function(t){t.stopPropagation()});let k=function(t){t.hasClass("fa-minus-square")?(t.removeClass("fa-minus-square"),t.addClass("fa-plus-square"),t.attr({title:"Expand",role:"button"}),t.closest(".has-subcontent-items").attr({"aria-expanded":"false"})):(t.removeClass("fa-plus-square"),t.addClass("fa-minus-square"),t.attr({title:"Collapse",role:"button"}),t.closest(".has-subcontent-items").attr({"aria-expanded":"true"})),t.siblings("ul").slideToggle()};s.find(".img-tree-toggle").filter(function(){var t;return"tree_disabled_complete"===(t=$(this)).attr("data-icon")?t.data("treeCompleted","complete"):t.data("treeCompleted",""),!$(this).siblings("strong").length}).each(function(){var t;(t=$(this)).removeClass("fa-square"),t.removeClass("text-warning"),t.addClass("fa-plus-square"),"complete"===t.data("treeCompleted")?(t.addClass("text-success"),t.attr("data-icon","tree_expand_complete")):t.attr("data-icon","tree_expand"),t.attr({title:"Expand",role:"button"}),t.closest(".has-subcontent-items").attr({"aria-expanded":"false"})}).on("keydown click",function(t){var e,i;"click"===t.type?k($(this)):"keydown"===t.type&&(e=t,i=$(this),13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),k(i)))}).siblings("ul").hide(),$(".theme-alert-notification").delay(9e3).fadeOut();var _=$("#progress_bar");switch(document.location.pathname){case"/index.php":case"/":$("#menu-home").addClass("active"),$("#begin_course_btn").wrap($("<div class='text-center' style='margin-top:2em;'></div>")),$("#resumebutton").wrap($("<div class='text-center'></div>"));break;case"/mods/adaptive_learning/create_question.php":$(".jquery_accordion2 .ui-widget-content").css("height","auto");break;case"/mods/simulations/f_mfbk.php":$("#flot_placeholder").length&&e.css("background-color","#FFF")}_.length&&_.closest("li").remove(),$("#cboxNext").html("<span class='screenreader off-screen'>next</span>"),$("#cboxPrevious").html("<span class='screenreader off-screen'>previous</span>"),$("#cboxSlideshow").html("<span class='screenreader off-screen'>slideshow</span>"),setTimeout(function(){changeTheme(void 0!==$.cookie("system-theme-override")?$.cookie("system-theme-override"):"theme-normal"),setTimeout(function(){$body.removeClass("loading"),$(document).trigger("content_shown")},100)},10);var I=new fluidtextresizer({controlsdiv:"ui-text-resizer-container",targets:["#contentcolumn"],levels:10,persist:"session",animate:200});if($(".ui-text-resizer-reset").click(function(t){t.preventDefault(),I.setFontLevel(0)}),null!=$("#admin-tools-container")){$("#admin-tools-container #tools").append("<li class='top-tool'><button type='button' class='btn btn-link p-0' id='show-admin-stats'>Show Admin Stats</button></li>");var E=function(t){var e=void 0!==$.cookie("show-admin-status");(e=t?!e:!!e)?($("#admin-stats-container").show(),$("#show-admin-stats").html("Hide Admin Stats"),$.cookie("show-admin-status",!0),$("#admin-tools-container").width("55%")):($("#admin-stats-container").hide(),$("#show-admin-stats").html("Show Admin Stats"),$.removeCookie("show-admin-status"),$("#admin-tools-container").width("100%"))};E(!1),$("#show-admin-stats").click(E.bind(null,!0))}}),document.addEventListener("touchstart",function(t){$themeVars.navSwipeXDown=t.touches[0].clientX,$themeVars.navSwipeYDown=t.touches[0].clientY},!1),document.addEventListener("touchmove",function(t){if($themeVars.navSwipeXDown&&$themeVars.navSwipeYDown){var e=t.touches[0].clientX,i=t.touches[0].clientY,o=$themeVars.navSwipeXDown-e,s=$themeVars.navSwipeYDown-i;Math.abs(o)<150||$themeVars.navSwipeXDown>30&&!$body.hasClass("show-nav")||$themeVars.navSwipeXDown>500&&$body.hasClass("show-nav")||(Math.abs(o)<10&&Math.abs(s)<10||Math.abs(o)>Math.abs(s)&&(o>0?$body.hasClass("show-nav")&&toggleNav():$body.hasClass("show-nav")||toggleNav()),$themeVars.navSwipeXDown=null,$themeVars.navSwipeYDown=null)}},!1);
//# sourceMappingURL=body.min.js.map